<?xml version="1.0" encoding="UTF-8" ?>

<section xml:id="sec_triple_int">
  <title>Volume Between Surfaces and Triple Integration</title>
  <introduction>
    <p>We learned in <xref ref="sec_double_int_volume">Section</xref> how to compute the signed volume <m>V</m> under a surface <m>z=f(x,y)</m> over a region <m>R</m>: <m>V = \iint_R f(x,y)\ dA</m>. It follows naturally that if <m>f(x,y)\geq g(x,y)</m> on <m>R</m>, then the <em>volume between <m>f(x,y)</m> and <m>g(x,y)</m> on <m>R</m></em> is
      <me>
        V = \iint_R f(x,y)\ dA - \iint_R g(x,y)\ dA = \iint_R \big(f(x,y)-g(x,y)\big)\ dA.
      </me>
    </p>

    <theorem xml:id="thm_volume_between_surfaces">
      <title>Volume Between Surfaces</title>
      <statement>
        <p>Let <m>f</m> and <m>g</m> be continuous functions on a closed, bounded region <m>R</m>, where <m>f(x,y)\geq g(x,y)</m> for all <m>(x,y)</m> in <m>R</m>. The volume <m>V</m> between <m>f</m> and <m>g</m> over <m>R</m> is
          <index><main>volume</main></index>
          <me>
            V =\iint_R \big(f(x,y)-g(x,y)\big)\ dA.
          </me>
        </p>
      </statement>
    </theorem>

    <example xml:id="ex_trip1">
      <title>Finding volume between surfaces</title>
      <statement>
        <p>Find the volume of the space region bounded by the planes <m>z=3x+y-4</m> and <m>z=8-3x-2y</m> in the <m>1^\text{ st }</m> octant. In <xref ref="fig_trip1">Figure</xref>(a) the planes are drawn; in (b), only the defined region is given.</p>

        <figure xml:id="fig_trip1" >
        <caption>Finding the volume between the planes given in <xref ref="ex_trip1">Example</xref>.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.005003686994314194,
            3Dc2c=0.5144106149673462 -0.7084314823150635 0.48322510719299316,
            3Dcoo=69.411376953125 50.58059310913086 38.15925598144531,
            3Droo=149.99999640034895,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip1_3D.asy -->
            <image xml:id="img_trip1_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip13D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(5.4,-12.7,20.2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2};
                real[] myychoice={2,4};
                real[] myzchoice={-5,5};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,3);
                pair ybounds=(-0.5,5);
                pair zbounds=(-5.25,10);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //Draw the plane z=3x+y-4
                triple f(pair t) {
                  return (t.x,t.y,3*t.x+t.y-4);
                }
                surface s=surface(f,(0,0),(2,4),1,1,Spline);
                pen p=rgb(0,0,.7);
                draw(s,emissive(rgb(.6,.6,1)+opacity(.7)),meshpen=blue+linewidth(1.5));

                //Draw the plane z=8-3x-2y
                triple f(pair t) {
                  return (t.x,t.y,8-3*t.x-2*t.y);
                }
                surface s=surface(f,(0,0),(2,4),1,1,Spline);
                pen p=rgb(0,0,.7);
                draw(s,emissive(rgb(1,.6,.6)+opacity(.7)),meshpen=red+linewidth(1.5));

                //line
                draw((0,4,0)--(2,0,2),dashed+linewidth(1.5));



                //lines on surface
                //draw((5,0,0)--(5,1,0),blue+dashed+linewidth(1.5));
                //draw((-5,0,0)--(-5,1,0),blue+dashed+linewidth(1.5));
                //triple g(real t) {return (t,0,1/(exp(t^2)+1));}
                //path3 mypath=graph(g,-5,5,operator ..);draw(mypath,blue+dashed+linewidth(1.5));
                //triple g(real t) {return (t,1,1/(exp(t^2)+1));}
                //path3 mypath=graph(g,-5,5,operator ..);draw(mypath,blue+dashed+linewidth(1.5));








                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip1_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.005003686994314194,
            3Dc2c=0.5144106149673462 -0.7084314823150635 0.48322510719299316,
            3Dcoo=69.411376953125 50.58059310913086 38.15925598144531,
            3Droo=149.99999640034895,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip1b_3D.asy -->
            <image xml:id="img_trip1b_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip1b3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(5.4,-12.7,20.2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2};
                real[] myychoice={2,4};
                real[] myzchoice={-5,5};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,3);
                pair ybounds=(-0.5,5);
                pair zbounds=(-5.25,10);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //lines of the triangles
                draw((0,4,0)--(2,0,2)--(0,0,8)--cycle,red+linewidth(1.5));
                draw((0,0,-4)--(0,0,8)--(2,0,2)--cycle,black+linewidth(1.5));
                draw((0,0,-4)--(0,4,0),blue+linewidth(1.5));

                //shade
                import three;
                path3 p =  (0,4,0)--(2,0,2)--(0,0,8); //Left
                //draw(surface(p -- cycle), emissive(rgb(1,.4,.7)+opacity(0.7)));
                draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(.7)));

                path3 p =  (0,0,-4)--(0,4,0)--(2,0,2); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));

                path3 p =  (0,0,-4)--(0,0,8)--(2,0,2); //Left
                draw(surface(p -- cycle), rgb(.7,.7,.7)+opacity(.2));

                path3 p =  (0,0,-4)--(0,0,8)--(0,4,0); //Left
                draw(surface(p -- cycle), rgb(.7,.7,.7)+opacity(.2));

                //rgb(1,.6,.6)+opacity(.7)


                // to get perspectives right with figtrip1a, draw with invisible pen

                draw((2,0,2)--(2,4,6),invisible);
                draw((2,0,2)--(2,4,-6),invisible);







                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip1b_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>
      </statement>
      <solution>
        <p>We need to determine the region <m>R</m> over which we will integrate. To do so, we need to determine where the planes intersect. They have common <m>z</m>-values when <m>3x+y-4=8-3x-2y</m>. Applying a little algebra, we have:
          <md>
            <mrow>3x+y-4 \amp = 8-3x-2y</mrow>
            <mrow>6x+3y \amp =12</mrow>
            <mrow>2x+y \amp =4</mrow>
          </md>
        </p>

        <p>The planes intersect along the line <m>2x+y=4</m>. Therefore the region <m>R</m> is bounded by <m>x=0</m>, <m>y=0</m>, and <m>y=4-2x</m>; we can convert these bounds to integration bounds of <m>0\leq x\leq 2</m>, <m>0\leq y\leq 4-2x</m>. Thus
          <md>
            <mrow>V \amp = \iint_R \big(8-3x-2y-(3x+y-4)\big)\ dA</mrow>
            <mrow>\amp = \int_0^2\int_0^{4-2x} \big(12-6x-3y\big)\ dy\ dx</mrow>
            <mrow>\amp = 16\text{u} ^3.</mrow>
          </md>
        </p>

        <p>The volume between the surfaces is <m>16</m> cubic units.</p>
      </solution>
    </example>

    <p>In the preceding example, we found the volume by evaluating the integral
      <me>
        \ds \int_0^2\int_0^{4-2x} \big(8-3x-2y-(3x+y-4)\big)\ dy\ dx.
      </me>
    </p>

    <p>Note how we can rewrite the integrand as an integral, much as we did in <xref ref="sec_iterated_integrals">Section</xref>:
      <me>
        8-3x-2y-(3x+y-4) = \int_{3x+y-4}^{8-3x-2y}\ dz.
      </me>
    </p>

    <p>Thus we can rewrite the double integral that finds volume as
      <me>
        \int_0^2\int_0^{4-2x} \big(8-3x-2y-(3x+y-4)\big)\ dy\ dx = \int_0^2\int_0^{4-2x}\left(\int_{3x+y-4}^{8-3x-2y}\ dz\right)\ dy\ dx.
      </me>
    </p>

    <p>This no longer looks like a <q>double integral,</q> but more like a <q>triple integral.</q> Just as our first introduction to double integrals was in the context of finding the area of a plane region, our introduction into triple integrals will be in the context of finding the volume of a space region.</p>

    <figure xml:id="fig_tripintro" >
    <caption>Approximating the volume of a region <m>D</m> in space.</caption>
    <sidebyside>
      <figure>
        <caption>(a)</caption>
        <!--
         \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
        3Droll=0,
        3Dortho=0.004937310703098774,
        3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333432674408,
        3Dcoo=-0.0000029802322387695312 -0.0000029802322387695312 -0.0000014901161193847656,
        3Droo=150,
        3Dlights=Headlamp,add3Djscript=asylabels.js]
         -->


        <!-- START figures/figtripintro_3D.asy -->
        <image xml:id="img_tripintro_3D" >
          <asymptote>
            <![CDATA[
            import graph3;

            //ASY file for figtripintro3D.asy in Chapter 13


            size(200,200,IgnoreAspect);
            //currentprojection=perspective(7,2,1);
            currentprojection=orthographic(4,4,2);
            defaultrender.merge=true;

            usepackage("mathspec");
            texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
            texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
            texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
            texpreamble("\setmathsfont(Greek){[cmmi10]}");

            // setup and draw the axes
            real[] myxchoice={-2,2};
            real[] myychoice={-2,2};
            real[] myzchoice={-2,2};
            defaultpen(0.5mm);

            pair xbounds=(-2.25,2.25);
            pair ybounds=(-2.25,2.25);
            pair zbounds=(-2.25,2.25);

            xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
            yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
            zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

            label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
            label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
            label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

            //Ellipsoid
            triple f(pair t) {
              return (cos(t.x)*2*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
            }
            surface s=surface(f,(-pi,-pi/2),(1*pi,pi/2),16,16,Spline);
            pen p=rgb(0,0,.7)+.1mm;
            draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);









            // ////////////////////////////////////
            //    SAMPLE CODE

            // defaultpen(fontsize(10pt));

            //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
            //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
            //pen p=rgb(0,0,.7);
            //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

            //triple f(pair t) {
            //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
            //}
            //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
            //pen p=rgb(0,0,.7);
            //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

            //draw(s,paleblue);
            //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
            //draw(mypath,2bp+blue);

            //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
            //path3 mypath=graph(g,-1,1,operator ..);
            //draw(mypath,blue+dashed+linewidth(2));

            //pen p=rgb(0,0,1);
            //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
            ]]>
          </asymptote>
        </image>
        <!-- figures/figtripintro_3D.asy END -->
      </figure>

      <figure>
        <caption>(b)</caption>
        <!--
         \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
        3Droll=0,
        3Dortho=0.004000000189989805,
        3Dc2c=0.6065065264701843 0.7266713380813599 0.32264310121536255,
        3Dcoo=-17.34011459350586 28.072246551513672 -20.15855598449707,
        3Droo=200.0000009711906,
        3Dlights=Headlamp,add3Djscript=asylabels.js]
         -->


        <!-- START figures/figtripintroa_3D.asy -->
        <image xml:id="img_tripintroa_3D" >
          <asymptote>
            <![CDATA[
            import graph3;

            //ASY file for figtripintroa3D.asy in Chapter 13


            size(200,200,IgnoreAspect);
            //currentprojection=perspective(7,2,1);
            currentprojection=orthographic(4,4,2);
            defaultrender.merge=true;

            usepackage("mathspec");
            texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
            texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
            texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
            texpreamble("\setmathsfont(Greek){[cmmi10]}");

            // setup and draw the axes
            real[] myxchoice={};
            real[] myychoice={};
            real[] myzchoice={};
            defaultpen(0.5mm);

            pair xbounds=(0,2.25);
            pair ybounds=(0.25,1.75);
            pair zbounds=(-0.5,0.5);

            //xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
            yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
            //zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

            //label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
            label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
            //label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

            //Ellipsoid
            triple f(pair t) {
              return (cos(t.x)*2*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
            }
            surface s=surface(f,(pi/6,-pi/3),(2*pi/3,pi/3),8,8,usplinetype=new splinetype[] {notaknot,notaknot,monotonic}
            ,vsplinetype=new splinetype[] {notaknot,notaknot,monotonic}
            );
            pen p=rgb(0,0,.7)+.1mm;
            draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

            //draw red cube
            //draw((0., 1.05, -0.105) -- (0,1.05,.105) -- (-.345,1.05,0.105) -- (-0.345, 1.05, -0.105)--cycle,red);//front

            draw((0.13, 1.05, 0.26) -- (0.13, 1.05, 0) -- (-0.26, 1.05, 0) -- (-0.25, 1.05, 0.26)--cycle,red);//front

            draw((0.13, 0.9, 0.26) -- (0.13, 0.9, 0) -- (-0.26, 0.9, 0) -- (-0.25, 0.9, 0.26)--cycle,red);//back


            //draw((-.345,0.979,0.105)--(0,0.979,0.105)--(0,0.979,-0.105)--(-.345,0.979,-0.105)--cycle,red);//back
            //sides
            draw((0.13, 0.9, 0.26)--(0.13, 1.05, 0.26),red);
            draw((0.13, 0.9, 0)--(0.13, 1.05, 0),red);
            draw((-0.26, 0.9, 0)--(-0.26, 1.05, 0),red);
            draw((-0.25, 0.9, 0.26)--(-0.25, 1.05, 0.26),red);







            // ////////////////////////////////////
            //    SAMPLE CODE

            // defaultpen(fontsize(10pt));

            //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
            //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
            //pen p=rgb(0,0,.7);
            //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

            //triple f(pair t) {
            //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
            //}
            //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
            //pen p=rgb(0,0,.7);
            //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

            //draw(s,paleblue);
            //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
            //draw(mypath,2bp+blue);

            //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
            //path3 mypath=graph(g,-1,1,operator ..);
            //draw(mypath,blue+dashed+linewidth(2));

            //pen p=rgb(0,0,1);
            //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
            ]]>
          </asymptote>
        </image>
        <!-- figures/figtripintroa_3D.asy END -->
      </figure>
    </sidebyside>

    </figure>

    <p>To formally find the volume of a closed, bounded region <m>D</m> in space, such as the one shown in <xref ref="fig_tripintro">Figure</xref>(a), we start with an approximation. Break <m>D</m> into <m>n</m> rectangular solids; the solids near the boundary of <m>D</m> may possibly not include portions of <m>D</m> and/or include extra space. In <xref ref="fig_tripintro">Figure</xref>(b), we zoom in on a portion of the boundary of <m>D</m> to show a rectangular solid that contains space not in <m>D</m>; as this is an approximation of the volume, this is acceptable and this error will be reduced as we shrink the size of our solids.</p>

    <p>The volume <m>\Delta V_i</m> of the <m>i^\text{ \,th }</m> solid <m>D_i</m> is <m>\Delta V_i = \dx_i\dy_i\ddz_i</m>, where <m>\dx_i</m>, <m>\dy_i</m> and <m>\ddz_i</m> give the dimensions of the rectangular solid in the <m>x</m>, <m>y</m> and <m>z</m> directions, respectively. By summing up the volumes of all <m>n</m> solids, we get an approximation of the volume <m>V</m> of <m>D</m>:
      <me>
        V \approx \sum_{i=1}^n \Delta V_i = \sum_{i=1}^n \dx_i\dy_i\ddz_i.
      </me>
    </p>

    <p>Let <m>\norm{\Delta D}</m> represent the length of the longest diagonal of rectangular solids in the subdivision of <m>D</m>. As <m>\norm{\Delta D}\to 0</m>, the volume of each solid goes to 0, as do each of <m>\dx_i</m>, <m>\dy_i</m> and <m>\ddz_i</m>, for all <m>i</m>. Our calculus experience tells us that taking a limit as <m>\norm{\Delta D}\to 0</m> turns our approximation of <m>V</m> into an exact calculation of <m>V</m>. Before we state this result in a theorem, we use a definition to define some terms.</p>

    <definition xml:id="def_triple_integral">
      <title>Triple Integrals, Iterated Integration (Part I)</title>
      <statement>
        <p>Let <m>D</m> be a closed, bounded region in space. Let <m>a</m> and <m>b</m> be real numbers, let <m>g_1(x)</m> and <m>g_2(x)</m> be continuous functions of <m>x</m>, and let <m>f_1(x,y)</m> and <m>f_2(x,y)</m> be continuous functions of <m>x</m> and <m>y</m>.
          <index><main>integration</main><sub>triple</sub></index><index><main>triple integral</main></index><index><main>iterated integration</main></index></p>

        <ol>
          <li><p>The volume <m>V</m> of <m>D</m> is denoted by a <em>triple integral</em>,
              <me>
                V = \iiint_D dV.
              </me>
            </p></li>

          <li><p>The iterated integral <m>\ds \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} \ dz\ dy\ dx</m> is evaluated as
              <me>
                \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} \ dz\ dy\ dx=\int_a^b\int_{g_1(x)}^{g_2(x)}\left(\int_{f_1(x,y)}^{f_2(x,y)} \ dz\right)\ dy\ dx.
              </me>
              Evaluating the above iterated integral is <em>triple integration.</em></p></li>
        </ol>
      </statement>
    </definition>

    <p>Our informal understanding of the notation <m>\iiint_D\ dV</m> is <q>sum up lots of little volumes over <m>D</m>,</q> analogous to our understanding of <m>\iint_R\ dA</m> and <m>\iint_R\ dm</m>.</p>

    <p>We now state the major theorem of this section.</p>

    <theorem xml:id="thm_triple_integration">
      <title>Triple Integration (Part I)</title>
      <statement>
        <p>Let <m>D</m> be a closed, bounded region in space and let <m>\Delta D</m> be any subdivision of <m>D</m> into <m>n</m> rectangular solids, where the <m>i^\text{ \,th }</m> subregion <m>D_i</m> has dimensions <m>\dx_i\times\dy_i\times\ddz_i</m> and volume <m>\Delta V_i</m>.
          <index><main>integration</main><sub>triple</sub></index><index><main>triple integral</main></index><index><main>iterated integration</main></index></p>

        <ol>
          <li><p>The volume <m>V</m> of <m>D</m> is
              <me>
                V = \iiint_D\ dV = \lim_{\norm{\Delta D}\to0} \sum_{i=1}^n \Delta V_i = \lim_{\norm{\Delta D}\to0} \sum_{i=1}^n \dx_i\dy_i\ddz_i.
              </me>
            </p></li>

          <li><p>If <m>D</m> is defined as the region bounded by the planes <m>x=a</m> and <m>x=b</m>, the cylinders <m>y=g_(x)</m> and <m>y=g_2(x)</m>, and the surfaces <m>z=f_1(x,y)</m> and <m>z=f_2(x,y)</m>, where <m>a\lt b</m>, <m>g_1(x)\leq g_2(x)</m> and <m>f_1(x,y)\leq f_2(x,y)</m> on <m>D</m>, then
              <me>
                \iiint_D \ dV = \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} \ dz\ dy\ dx.
              </me>
            </p></li>

          <li><p><m>V</m> can be determined using iterated integration with other orders of integration (there are 6 total), as long as <m>D</m> is defined by the region enclosed by a pair of planes, a pair of cylinders, and a pair of surfaces.</p></li>
        </ol>
      </statement>
    </theorem>

    <p>We evaluated the area of a plane region <m>R</m> by iterated integration, where the bounds were <q>from curve to curve, then from point to point.</q> <xref ref="thm_triple_integration">Theorem</xref> allows us to find the volume of a space region with an iterated integral with bounds <q>from surface to surface, then from curve to curve, then from point to point.</q> In the iterated integral
      <me>
        \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} \ dz\ dy\ dx,
      </me>
      the bounds <m>a\leq x\leq b</m> and <m>g_1(x)\leq y\leq g_2(x)</m> define a region <m>R</m> in the <m>x</m>-<m>y</m> plane over which the region <m>D</m> exists in space. However, these bounds are also defining surfaces in space; <m>x=a</m> is a plane and <m>y=g_1(x)</m> is a cylinder. The combination of these 6 surfaces enclose, and define, <m>D</m>.</p>

    <p>Examples will help us understand triple integration, including integrating with various orders of integration.</p>

    <example xml:id="ex_trip2">
      <title>Finding the volume of a space region with triple integration</title>
      <statement>
        <p>Find the volume of the space region in the <m>1^{\,st}</m> octant bounded by the plane <m>z=2-y/3-2x/3</m>, shown in <xref ref="fig_trip2">Figure</xref>(a), using the order of integration <m>dz\ dy\ dx</m>. Set up the triple integrals that give the volume in the other 5 orders of integration.</p>
      </statement>
      <solution>
        <p>Starting with the order of integration <m>dz\ dy\ dx</m>, we need to first find bounds on <m>z</m>. The region <m>D</m> is bounded below by the plane <m>z=0</m> (because we are restricted to the first octant) and above by <m>z=2-y/3-2x/3</m>; <m>0\leq z\leq 2-y/3-2x/3</m>.</p>

        <p>To find the bounds on <m>y</m> and <m>x</m>, we <q>collapse</q> the region onto the <m>x</m>-<m>y</m> plane, giving the triangle shown in <xref ref="fig_trip2">Figure</xref>(b). (We know the equation of the line <m>y=6-2x</m> in two ways. First, by setting <m>z=0</m>, we have <m>0 = 2-y/3-2x/3 \Rightarrow y=6-2x</m>. Secondly, we know this is going to be a straight line between the points <m>(3,0)</m> and <m>(0,6)</m> in the <m>x</m>-<m>y</m> plane.)</p>

        <figure xml:id="fig_trip2" >
        <caption>The region <m>D</m> used in <xref ref="ex_trip2">Example</xref> in (a); in (b), the region found by collapsing <m>D</m> onto the <m>x</m>-<m>y</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579035311937,
            3Dc2c=0.4086907207965851 0.6385185718536377 0.6521241664886475,
            3Dcoo=3.675152540206909 -7.818903923034668 16.216196060180664,
            3Droo=150.00000119319247,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip2_3D.asy -->
            <image xml:id="img_trip2_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip23D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.2,10.1,6.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={5};
                real[] myzchoice={2};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,5);
                pair ybounds=(-0.5,7);
                pair zbounds=(-0.5,3);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //triangle in space
                draw((3,0,0)--(0,6,0)--(0,0,2)--cycle,blue+linewidth(1.5));

                //shade
                import three;
                path3 p =  (3,0,0)--(0,6,0)--(0,0,2); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip2_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579035311937,
            3Dc2c=0.4086907207965851 0.6385185718536377 0.6521241664886475,
            3Dcoo=3.675152540206909 -7.818903923034668 16.216196060180664,
            3Droo=150.00000119319247,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip2b_3D.asy -->
            <image xml:id="img_trip2b_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip2b3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.2,10.1,6.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={5};
                real[] myzchoice={2};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,5);
                pair ybounds=(-0.5,7);
                pair zbounds=(-0.5,3);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //triangle in space
                draw((3,0,0)--(0,6,0)--(0,0,0)--cycle,blue+linewidth(1.5));

                //shade
                import three;
                path3 p =  (3,0,0)--(0,6,0)--(0,0,0); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                label("$y=6-2x$",(2.5,3.5,0));



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip2b_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p>We define that region <m>R</m>, in the integration order of <m>dy\ dx</m>, with bounds <m>0\leq y\leq 6-2x</m> and <m>0\leq x\leq 3</m>. Thus the volume <m>V</m> of the region <m>D</m> is:
          <md>
            <mrow>V \amp = \iiint_D \ dV</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x}\int_0^{2-\frac 13y-\frac 23x}\ dz\ dy\ dz</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x}\left(\int_0^{2-\frac 13y-\frac 23x}\ dz\right)\ dy\ dz</mrow>
            <mrow>\amp =\int_0^3\int_0^{6-2x}z\Big|_0^{2-\frac 13y-\frac 23x}\ dy\ dz</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x}\left(2-\frac 13y-\frac 23x\right)\ dy\ dz.</mrow>
            <intertext>From this step on, we are evaluating a double integral as done many times before. We skip these steps and give the final volume,</intertext>
            <mrow>\amp = 6\text{u} ^3.</mrow>
          </md>
        </p>

        <p>The order <m>dz\ dx\ dy</m>:</p>

        <p>Now consider the volume using the order of integration <m>dz\ dx\ dy</m>. The bounds on <m>z</m> are the same as before, <m>0\leq z\leq 2-y/3-2x/3</m>. Collapsing the space region on the <m>x</m>-<m>y</m> plane as shown in <xref ref="fig_trip2">Figure</xref>(b), we now describe this triangle with the order of integration <m>dx\ dy</m>. This gives bounds <m>0\leq x\leq 3-y/2</m> and <m>0\leq y\leq 6</m>. Thus the volume is given by the triple integral
          <me>
            V = \int_0^6\int_0^{3-\frac12y}\int_0^{2-\frac13y-\frac23x}\ dz\ dx\ dy.
          </me>
        </p>

        <p>The order <m>dx\ dy\ dz</m>:</p>

        <p>Following our <q>surface to surface<m>\ldots</m></q> strategy, we need to determine the <m>x</m>-<em>surfaces</em> that bound our space region. To do so, approach the region <q>from behind,</q> in the direction of increasing <m>x</m>. The first surface we hit as we enter the region is the <m>y</m>-<m>z</m> plane, defined by <m>x=0</m>. We come out of the region at the plane <m>z=2-y/3-2x/3</m>; solving for <m>x</m>, we have <m>x= 3-y/2-3z/2</m>. Thus the bounds on <m>x</m> are: <m>0\leq x\leq 3-y/2-3z/2</m>.</p>

        <p>Now collapse the space region onto the <m>y</m>-<m>z</m> plane, as shown in <xref ref="fig_trip2b">Figure</xref>(a). (Again, we find the equation of the line <m>z=2-y/3</m> by setting <m>x=0</m> in the equation <m>x=3-y/2-3z/2</m>.) We need to find bounds on this region with the order <m>dy\ dz</m>. The <em>curves</em> that bound <m>y</m> are <m>y=0</m> and <m>y=6-3z</m>; the <em>points</em> that bound <m>z</m> are 0 and 2. Thus the triple integral giving volume is:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq x\leq 3-y/2-3z/2\\
		0\leq y\leq 6-3z\\
		0\leq z\leq 2
            \end{array}
		\amp
		\ds\Rightarrow  \int_0^2\int_0^{6-3z}\int_0^{3-y/2-3z/2}\ dx\ dy\ dz.
            \end{array}
          </me>
        </p>

        <p>The order <m>dx\ dz\ dy</m>:</p>

        <figure xml:id="fig_trip2b" >
        <caption>The region <m>D</m> in <xref ref="ex_trip2">Example</xref> is collapsed onto the <m>y</m>-<m>z</m> plane in (a); in (b), the region is collapsed onto the <m>x</m>-<m>z</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579035311937,
            3Dc2c=0.4086907207965851 0.6385185718536377 0.6521241664886475,
            3Dcoo=3.675152540206909 -7.818903923034668 16.216196060180664,
            3Droo=150.00000119319247,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip2c_3D.asy -->
            <image xml:id="img_trip2c_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip2c3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.2,10.1,6.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={5};
                real[] myzchoice={2};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,5);
                pair ybounds=(-0.5,7);
                pair zbounds=(-0.5,3);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //triangle in space
                draw((0,0,2)--(0,6,0)--(0,0,0)--cycle,blue+linewidth(1.5));

                //shade
                import three;
                path3 p =  (0,0,2)--(0,6,0)--(0,0,0); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                label("$z=2-y/3$",(0,2,1.5),E);



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip2c_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579035311937,
            3Dc2c=0.4086907207965851 0.6385185718536377 0.6521241664886475,
            3Dcoo=3.675152540206909 -7.818903923034668 16.216196060180664,
            3Droo=150.00000119319247,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip2d_3D.asy -->
            <image xml:id="img_trip2d_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip2d3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.2,10.1,6.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={5};
                real[] myzchoice={2};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,5);
                pair ybounds=(-0.5,7);
                pair zbounds=(-0.5,3);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //triangle in space
                draw((0,0,2)--(3,0,0)--(0,0,0)--cycle,blue+linewidth(1.5));

                //shade
                import three;
                path3 p =  (0,0,2)--(3,0,0)--(0,0,0); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                label("$z=2-2x/3$",(1,0,1.5),W);



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip2d_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p>The <m>x</m>-bounds are the same as the order above. We now consider the triangle in <xref ref="fig_trip2b">Figure</xref>(a) and describe it with the order <m>dz\ dy</m>: <m>0\leq z\leq 2-y/3</m> and <m>0\leq y\leq 6</m>. Thus the volume is given by:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq x\leq 3-y/2-3z/2\\
		0\leq z\leq 2-y/3\\
		0\leq y\leq 6
            \end{array}
		\amp
		\ds\Rightarrow  \int_0^6\int_0^{2-y/3}\int_0^{3-y/2-3z/2}\ dx\ dz\ dy.
            \end{array}
          </me>
        </p>

        <p>The order <m>dy\ dz\ dx</m>:</p>

        <p>We now need to determine the <m>y</m>-surfaces that determine our region. Approaching the space region from <q>behind</q> and moving in the direction of increasing <m>y</m>, we first enter the region at <m>y=0</m>, and exit along the plane <m>z= 2-y/3-2x/3</m>. Solving for <m>y</m>, this plane has equation <m>y = 6-2x-3z</m>. Thus <m>y</m> has bounds <m>0\leq y\leq 6-2x-3z</m>.</p>

        <p>Now collapse the region onto the <m>x</m>-<m>z</m> plane, as shown in <xref ref="fig_trip2b">Figure</xref>(b). The curves bounding this triangle are <m>z=0</m> and <m>z=2-2x/3</m>; <m>x</m> is bounded by the points <m>x=0</m> to <m>x=3</m>. Thus the triple integral giving volume is:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq y\leq 6-2x-3z\\
		0\leq z\leq 2-2x/3\\
		0\leq x\leq 3
            \end{array}
		\amp
		\ds\Rightarrow  \int_0^3\int_0^{2-2x/3}\int_0^{6-2x-3z}\ dy\ dz\ dx.
            \end{array}
          </me>
        </p>

        <p>The order <m>dy\ dx\ dz</m>:</p>

        <p>The <m>y</m>-bounds are the same as in the order above. We now determine the bounds of the triangle in <xref ref="fig_trip2b">Figure</xref>(b) using the order <m>dy\ dx\ dz</m>. <m>x</m> is bounded by <m>x=0</m> and <m>x=3-3z/2</m>; <m>z</m> is bounded between <m>z=0</m> and <m>z=2</m>. This leads to the triple integral:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq y\leq 6-2x-3z\\
		0\leq x\leq 3-3z/2\\
		0\leq z\leq 2
            \end{array}
		\amp
		\ds\Rightarrow  \int_0^2\int_0^{3-3z/2}\int_0^{6-2x-3z}\ dy\ dx\ dz.
            \end{array}
          </me>
        </p>

        <p>This problem was long, but hopefully useful, demonstrating how to determine bounds with every order of integration to describe the region <m>D</m>. In practice, we only need 1, but being able to do them all gives us flexibility to choose the order that suits us best.</p>
      </solution>
    </example>

    <p>In the previous example, we collapsed the surface into the <m>x</m>-<m>y</m>, <m>x</m>-<m>z</m>, and <m>y</m>-<m>z</m> planes as we determined the <q>curve to curve, point to point</q> bounds of integration. Since the surface was a triangular portion of a plane, this collapsing, or <em>projecting</em>, was simple: the <em>projection</em> of a straight line in space onto a coordinate plane is a line.</p>

    <p>The following example shows us how to do this when dealing with more complicated surfaces and curves.</p>

    <example xml:id="ex_trip2b">
      <title>Finding the projection of a curve in space onto the coordinate planes</title>
      <statement>
        <p>Consider the surfaces <m>z=3-x^2-y^2</m> and <m>z=2y</m>, as shown in <xref ref="fig_trip2bb">Figure</xref>(a). The curve of their intersection is shown, along with the projection of this curve into the coordinate planes, shown dashed. Find the equations of the projections into the coordinate planes.</p>
      </statement>
      <solution>
        <p>The two surfaces are <m>z=3-x^2-y^2</m> and <m>z=2y</m>. To find where they intersect, it is natural to set them equal to each other: <m>3-x^2-y^2=2y</m>. This is an implicit function of <m>x</m> and <m>y</m> that gives all points <m>(x,y)</m> in the <m>x</m>-<m>y</m> plane where the <m>z</m> values of the two surfaces are equal.</p>

        <figure xml:id="fig_trip2bb" >
        <caption>Finding the projections of the curve of intersection in <xref ref="ex_trip2b">Example</xref>.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579966634512,
            3Dc2c=0.8939384818077087 0.2635158896446228 0.3625374734401703,
            3Dcoo=6.587856292724609 50.29287338256836 11.16304874420166,
            3Droo=149.9999888496757,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/fig3d_proj_3D.asy -->
            <image xml:id="img_3d_proj_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for fig3d_proj3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(6.7,1.9,11.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2};
                real[] myychoice={1,2};
                real[] myzchoice={2,4};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,2.5);
                pair ybounds=(-0.5,2.25);
                pair zbounds=(-0.5,4.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //plane z=2y
                triple f(pair t) {
                  return (t.x,t.y,2*t.y);
                }
                surface s=surface(f,(0,0),(2,1.5),1,1,Spline);
                pen p=rgb(1,0,0)+.1mm;
                draw(s,emissive(rgb(1,.6,.6)+opacity(.7)),meshpen=p);

                //z=3-x^2-y^2
                triple f(pair t) {
                  return (t.x,t.y,3-t.x^2-t.y^2);
                }
                surface s=surface(f,(-.1,-.1),(2,1.5),8,8,Spline);
                //triple f(pair t) {
                //  return (cos(t.x)*t.y,sin(t.x)*t.y,3-t.y^2-t.y^2);
                //}
                //
                //surface s=surface(f,(-.1,0),(pi/2+.1,2),8,8,Spline);
                pen p=rgb(0,0,.7)+.1mm;
                draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //lines and curves on the surfaces
                draw((0,0,0)--(0,1,2),blue+dashed+linewidth(1));
                triple g(real t) {return (t,0,2*(1-(t/2)^2));}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+dashed+linewidth(1));
                triple g(real t) {return (t,1-(t/2)^2,2*(1-(t/2)^2));}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+linewidth(2));
                triple g(real t) {return (t,1-(t/2)^2,0);}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+dashed+linewidth(1));



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/fig3d_proj_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004707579966634512,
            3Dc2c=0.8939384818077087 0.2635158896446228 0.3625374734401703,
            3Dcoo=6.587856292724609 50.29287338256836 11.16304874420166,
            3Droo=149.9999888496757,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/fig3d_projb_3D.asy -->
            <image xml:id="img_3d_projb_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for fig3d_projb3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(6.7,1.9,11.5);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2};
                real[] myychoice={1,2};
                real[] myzchoice={2,4};
                defaultpen(0.5mm);

                pair xbounds=(-0.5,2.5);
                pair ybounds=(-0.5,2.25);
                pair zbounds=(-0.5,4.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //plane z=2y
                triple f(pair t) {
                  return (t.x,t.y,2*t.y);
                }
                surface s=surface(f,(0,0),(2,1.5),1,1,Spline);
                pen p=rgb(0,0,.7);
                //draw(s,rgb(1,.4,.7)+opacity(.7),meshpen=p);

                //z=3-x^2-y^2
                triple f(pair t) {
                  return (t.x,t.y,3-t.x^2-t.y^2);
                }
                surface s=surface(f,(0,0),(2,1.5),8,8,Spline);
                pen p=rgb(0,0,.7);
                draw(s,invisible,meshpen=invisible);

                //lines and curves on the surfaces
                draw((0,0,0)--(0,1,2),blue+dashed+linewidth(1));
                triple g(real t) {return (t,0,2*(1-(t/2)^2));}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+dashed+linewidth(1));
                triple g(real t) {return (t,1-(t/2)^2,2*(1-(t/2)^2));}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+linewidth(2));
                triple g(real t) {return (t,1-(t/2)^2,0);}
                path3 mypath=graph(g,0,2,operator ..);draw(mypath,blue+dashed+linewidth(1));



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/fig3d_projb_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p>We can rewrite this implicit function by completing the square:
          <me>
            3-x^2-y^2=2y  \Rightarrow  y^2+2y+x^2=3 \Rightarrow  (y+1)^2+x^2=4.
          </me>
        </p>

        <p>Thus in the <m>x</m>-<m>y</m> plane the projection of the intersection is a circle with radius 2, centered at <m>(0,-1)</m>.</p>

        <p>To project onto the <m>x</m>-<m>z</m> plane, we do a similar procedure: find the <m>x</m> and <m>z</m> values where the <m>y</m> values on the surface are the same. We start by solving the equation of each surface for <m>y</m>. In this particular case, it works well to actually solve for <m>y^2</m>:</p>

        <p><m>z=3-x^2-y^2  \Rightarrow  y^2=3-x^2-z</m></p>

        <p><m>z=2y  \Rightarrow  y^2=z^2/4</m>.</p>

        <p>Thus we have (after again completing the square):
          <me>
            3-x^2-z = z^2/4  \Rightarrow \frac{(z+2)^2}{16}+\frac{x^2}4=1,
          </me>
          and ellipse centered at <m>(0,-2)</m> in the <m>x</m>-<m>z</m> plane with a major axis of length 8 and a minor axis of length 4.</p>

        <p>Finally, to project the curve of intersection into the <m>y</m>-<m>z</m> plane, we solve equation for <m>x</m>. Since <m>z=2y</m> is a cylinder that lacks the variable <m>x</m>, it becomes our equation of the projection in the <m>y</m>-<m>z</m> plane.</p>

        <p>All three projections are shown in <xref ref="fig_trip2bb">Figure</xref>(b).</p>
      </solution>
    </example>

    <example xml:id="ex_trip3">
      <title>Finding the volume of a space region with triple integration</title>
      <statement>
        <p>Set up the triple integrals that find the volume of the space region <m>D</m> bounded by the surfaces <m>x^2+y^2=1</m>, <m>z=0</m> and <m>z=-y</m>, as shown in <xref ref="fig_trip3">Figure</xref>(a), with the orders of integration <m>dz\ dy\ dx</m>, <m>dy\ dx\ dz</m> and <m>dx\ dz\ dy</m>.</p>

        <figure xml:id="fig_trip3" >
        <caption>The region <m>D</m> in <xref ref="ex_trip3">Example</xref> is shown in (a); in (b), it is collapsed onto the <m>x</m>-<m>y</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004735102877020836,
            3Dc2c=0.8340418338775635 0.34454345703125 0.43088746070861816,
            3Dcoo=-6.1953253746032715 -30.81180191040039 48.79259490966797,
            3Droo=149.99999973988238,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip3_3D.asy -->
            <image xml:id="img_trip3_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip33D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.1,1.9,2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-1,1};
                real[] myychoice={-1,-0.5};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-1.25,1.25);
                pair ybounds=(-1.25,0.5);
                pair zbounds=(-0.25,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                triple f(pair t) {return (cos(t.x),sin(t.x),-sin(t.x)*t.y);}
                surface s=surface(f,(-pi,0),(0,1),16,2,Spline);
                pen p=rgb(0,0,.7)+.1mm;
                draw(s,emissive(rgb(.6,.6,1)+opacity(.7)),meshpen=p);


                triple f(pair t) {return (cos(t.x)*t.y,sin(t.x)*t.y,-sin(t.x)*t.y);}
                surface s=surface(f,(-pi,0),(0,1),16,2,Spline);
                pen p=rgb(1,0,0)+.1mm;
                draw(s,emissive(rgb(1,.6,.6)+opacity(.7)),meshpen=p);



                //disk x^2+y^2=1 in 3rd and 4th quadrants
                triple g(real t) {return (cos(t),sin(t),0);}
                path3 mypath=graph(g,pi,2*pi,operator ..);draw(mypath,blue+linewidth(1.5));

                //surface above disk x^2+y^2=1 in 3rd and 4th quadrants
                triple g(real t) {return (cos(t),sin(t),-sin(t));}
                path3 mypath=graph(g,pi,2*pi,operator ..);
                draw(mypath,blue+linewidth(1.5));



                //label the surfaces
                label("$x^2+y^2=1$",(1.4,-.5,0));
                draw((1.1,-.6,0)--(.7,-.7,.35),Arrow3(size=2mm));
                label("$z=-y$",(0,-.5,1.25));
                draw((0,-.5,1.15)--(0,-.5,.5),Arrow3(size=2mm));


                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip3_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004735102877020836,
            3Dc2c=0.8340418338775635 0.34454345703125 0.43088746070861816,
            3Dcoo=-6.1953253746032715 -30.81180191040039 48.79259490966797,
            3Droo=149.99999973988238,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip3b_3D.asy -->
            <image xml:id="img_trip3b_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip3b3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.1,1.9,2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-1,1};
                real[] myychoice={-1,-0.5};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-1.25,1.25);
                pair ybounds=(-1.25,0.5);
                pair zbounds=(-0.25,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //disk x^2+y^2=1 in 3rd and 4th quadrants
                triple g(real t) {return (cos(t),sin(t),0);}
                path3 mypath=graph(g,pi,2*pi,operator ..);draw(mypath,blue+linewidth(2));

                //line
                draw((-1,0,0)--(1,0,0),blue+linewidth(2));

                int k=24;//number of panels

                //shade bottom
                import three;
                for (int i=k; i<2*k; ++i)
                {
                path3 p =  (0,0,0)--(cos(i*pi/k),sin(i*pi/k),0)--(cos((i+1)*pi/k),sin((i+1)*pi/k),0); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                }



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip3b_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>
      </statement>
      <solution>
        <p>The order <m>dz\ dy\ dx</m>:</p>

        <p>The region <m>D</m> is bounded below by the plane <m>z=0</m> and above by the plane <m>z=-y</m>. The cylinder <m>x^2+y^2=1</m> does not offer any bounds in the <m>z</m>-direction, as that surface is parallel to the <m>z</m>-axis. Thus <m>0\leq z\leq -y</m>.</p>

        <p>Collapsing the region into the <m>x</m>-<m>y</m> plane, we get part of the circle with equation <m>x^2+y^2=1</m> as shown in <xref ref="fig_trip3">Figure</xref>(b). As a function of <m>x</m>, this half circle has equation <m>y=-\sqrt{1-x^2}</m>. Thus <m>y</m> is bounded below by <m>-\sqrt{1-x^2}</m> and above by <m>y=0</m>: <m>-\sqrt{1-x^2}\leq y\leq 0</m>. The <m>x</m> bounds of the half circle are <m>-1\leq x\leq 1</m>. All together, the bounds of integration and triple integral are as follows:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq z\leq -y\\
		-\sqrt{1-x^2}\leq y\leq 0\\
		-1\leq x\leq 1
            \end{array}
		\amp
		\ds\Rightarrow  \int_{-1}^1\int_{-\sqrt{1-x^2}}^{0}\int_0^{-y}\ dz\ dy\ dx.
            \end{array}
          </me>
        </p>

        <p>We evaluate this triple integral:
          <md>
            <mrow>\int_{-1}^1\int_{-\sqrt{1-x^2}}^{0}\int_0^{-y}\ dz\ dy\ dx \amp = \int_{-1}^1\int_{-\sqrt{1-x^2}}^{0}\big(-y\big)\ dy\ dx</mrow>
            <mrow>\amp =\int_{-1}^1\big(-\frac12y^2\big)\Big|_{-\sqrt{1-x^2}}^{0}\ dx</mrow>
            <mrow>\amp = \int_{-1}^1 \frac12\big(1-x^2\big)\ dx</mrow>
            <mrow>\amp = \left.\left(\frac12\left(x-\frac13x^3\right)\right)\right|_{-1}^1</mrow>
            <mrow>\amp = \frac23\text{ units } ^3.</mrow>
          </md>
        </p>

        <p>With the order <m>dy\ dx\ dz</m>:</p>

        <p>The region is bounded <q>below</q> in the <m>y</m>-direction by the surface <m>x^2+y^2=1 \Rightarrow y=-\sqrt{1-x^2}</m> and <q>above</q> by the surface <m>y=-z</m>. Thus the <m>y</m> bounds are <m>-\sqrt{1-x^2}\leq y\leq -z</m>.</p>

        <p>Collapsing the region onto the <m>x</m>-<m>z</m> plane gives the region shown in <xref ref="fig_trip3b">Figure</xref>(a); this half circle has equation <m>x^2+z^2=1</m>. (We find this curve by solving each surface for <m>y^2</m>, then setting them equal to each other. We have <m>y^2=1-x^2</m> and <m>y=-z\Rightarrow y^2=z^2</m>. Thus <m>x^2+z^2=1</m>.) It is bounded below by <m>x=-\sqrt{1-z^2}</m> and above by <m>x=\sqrt{1-z^2}</m>, where <m>z</m> is bounded by <m>0\leq z\leq 1</m>. All together, we have:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		-\sqrt{1-x^2}\leq y\leq -z\\
		-\sqrt{1-z^2}\leq x\leq \sqrt{1-z^2}\\
		0\leq z\leq 1
            \end{array}
		\amp
		\ds\Rightarrow  \int_{0}^1\int_{-\sqrt{1-z^2}}^{\sqrt{1-z^2}}\int_{-\sqrt{1-x^2}}^{-z}\ dy\ dx\ dz.
            \end{array}
          </me>
        </p>

        <figure xml:id="fig_trip3b" >
        <caption>The region <m>D</m> in <xref ref="ex_trip3">Example</xref> is shown collapsed onto the <m>x</m>-<m>z</m> plane in (a); in (b), it is collapsed onto the <m>y</m>-<m>z</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004735102877020836,
            3Dc2c=0.8340418338775635 0.34454345703125 0.43088746070861816,
            3Dcoo=-6.1953253746032715 -30.81180191040039 48.79259490966797,
            3Droo=149.99999973988238,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip3c_3D.asy -->
            <image xml:id="img_trip3c_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip3c3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.1,1.9,2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-1,1};
                real[] myychoice={-1,-0.5};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-1.25,1.25);
                pair ybounds=(-1.25,0.5);
                pair zbounds=(-0.25,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //disk x^2+y^2=1 in 3rd and 4th quadrants
                triple g(real t) {return (cos(t),0,-sin(t));}
                path3 mypath=graph(g,pi,2*pi,operator ..);draw(mypath,blue+linewidth(2));

                //line
                draw((-1,0,0)--(1,0,0),blue+linewidth(2));

                int k=24;//number of panels

                //shade bottom
                import three;
                for (int i=k; i<2*k; ++i)
                {
                path3 p =  (0,0,0)--(cos(i*pi/k),0,-sin(i*pi/k))--(cos((i+1)*pi/k),0,-sin((i+1)*pi/k)); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                }



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip3c_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004735102877020836,
            3Dc2c=0.8340418338775635 0.34454345703125 0.43088746070861816,
            3Dcoo=-6.1953253746032715 -30.81180191040039 48.79259490966797,
            3Droo=149.99999973988238,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip3d_3D.asy -->
            <image xml:id="img_trip3d_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip3d3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(7.1,1.9,2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-1,1};
                real[] myychoice={-1,-0.5};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-1.25,1.25);
                pair ybounds=(-1.25,0.5);
                pair zbounds=(-0.25,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //triangle in space
                draw((0,0,0)--(0,-1,0)--(0,-1,1)--cycle,blue+linewidth(2));

                //shade triangle
                import three;

                path3 p =  (0,0,0)--(0,-1,0)--(0,-1,1); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip3d_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p>With the order <m>dx\ dz\ dy</m>:</p>

        <p><m>D</m> is bounded below by the surface <m>x=-\sqrt{1-y^2}</m> and above by <m>\sqrt{1-y^2}</m>. We then collapse the region onto the <m>y</m>-<m>z</m> plane and get the triangle shown in <xref ref="fig_trip3b">Figure</xref>(b). (The hypotenuse is the line <m>z=-y</m>, just as the plane.) Thus <m>z</m> is bounded by <m>0\leq z\leq -y</m> and <m>y</m> is bounded by <m>-1\leq y\leq 0</m>. This gives:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		-\sqrt{1-y^2}\leq x\leq \sqrt{1-y^2}\\
		0\leq z\leq -y\\
		-1\leq y\leq 0
            \end{array}
		\amp
		\ds\Rightarrow  \int_{-1}^0\int_{0}^{-y}\int_{-\sqrt{1-y^2}}^{\sqrt{1-y^2}}\ dx\ dz\ dy.
            \end{array}
          </me>
        </p>
      </solution>
    </example>

    <p>The following theorem states two things that should make <q>common sense</q> to us. First, using the triple integral to find volume of a region <m>D</m> should always return a positive number; we are computing <em>volume</em> here, not <em>signed volume</em>. Secondly, to compute the volume of a <q>complicated</q> region, we could break it up into subregions and compute the volumes of each subregion separately, summing them later to find the total volume.</p>

    <theorem xml:id="thm_triple_int_prop">
      <title>Properties of Triple Integrals</title>
      <statement>
        <p>Let <m>D</m> be a closed, bounded region in space, and let <m>D_1</m> and <m>D_2</m> be non-overlapping regions such that <m>D=D_1\bigcup D_2</m>.
          <index><main>triple integral</main><sub>properties</sub></index><index><main>iterated integration</main><sub>properties</sub></index></p>

        <ol>
          <li><p><m>\ds \iiint_D \ dV \geq 0</m></p></li>

          <li><p><m>\ds \iiint_D\ dV = \iiint_{D_1}\ dV + \iiint_{D_2}\ dV</m>.</p></li>
        </ol>
      </statement>
    </theorem>

    <p>We use this latter property in the next example.</p>

    <example xml:id="ex_trip4">
      <title>Finding the volume of a space region with triple integration</title>
      <statement>
        <p>Find the volume of the space region <m>D</m> bounded by the coordinate planes, <m>z=1-x/2</m> and <m>z=1-y/4</m>, as shown in <xref ref="fig_trip4">Figure</xref>(a). Set up the triple integrals that find the volume of <m>D</m> in all 6 orders of integration.</p>

        <figure xml:id="fig_trip4" >
        <caption>The region <m>D</m> in <xref ref="ex_trip4">Example</xref> is shown in (a); in (b), it is collapsed onto the <m>x</m>-<m>y</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004984850063920021,
            3Dc2c=0.6418777108192444 0.6134042739868164 0.46013936400413513,
            3Dcoo=-9.54626750946045 -8.89417552947998 36.88103103637695,
            3Droo=150.0000021860597,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip4_3D.asy -->
            <image xml:id="img_trip4_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip43D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(11.2,8.3,2.7);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={2,4};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-0.1,4.25);
                pair ybounds=(-0.1,4.25);
                pair zbounds=(-0.1,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //lines for tetrahedron
                draw((0,0,0)--(2,0,0)--(2,4,0)--(0,4,0)--cycle,blue+linewidth(2));
                draw((0,0,0)--(0,0,1),blue+linewidth(2));
                draw((2,0,0)--(0,0,1),blue+linewidth(2));
                draw((0,4,0)--(0,0,1),blue+linewidth(2));
                draw((2,4,0)--(0,0,1),blue+linewidth(2));

                //shade rectangle and sides
                import three;
                path3 p =  (0,0,0)--(2,0,0)--(2,4,0)--(0,4,0);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (0,0,0)--(2,0,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (0,0,0)--(0,4,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (0,4,0)--(2,4,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (2,0,0)--(2,4,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));

                //labels and arrows
                label("$z=1-\frac{1}{2}x$",(3.5,1.65,0));
                draw((3,1.5,0)--(1.8,2,.1),Arrow3(size=2mm));
                label("$z=1-\frac{1}{4}y$",(0,3,1));
                draw((0,3,0.8)--(1,3,0.25),Arrow3(size=2mm));


                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip4_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004984850063920021,
            3Dc2c=0.6418777108192444 0.6134042739868164 0.46013936400413513,
            3Dcoo=-9.54626750946045 -8.89417552947998 36.88103103637695,
            3Droo=150.0000021860597,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip4d_3D.asy -->
            <image xml:id="img_trip4d_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip4d3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(11.2,8.3,2.7);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={4};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-0.1,4.25);
                pair ybounds=(-0.1,4.25);
                pair zbounds=(-0.1,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //rectangle in xy plane w diagonal and labels
                draw((0,0,0)--(2,0,0)--(2,4,0)--(0,4,0)--cycle,blue+linewidth(2));
                draw((0,0,0)--(2,4,0),blue+dashed+linewidth(1));
                label("$R_1$",(1.5,1,.1));
                label("$R_2$",(1,3,.1));

                //shade rectangle
                import three;
                path3 p =  (0,0,0)--(2,0,0)--(2,4,0)--(0,4,0); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip4d_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>
      </statement>
      <solution>
        <p>Following the bounds<ndash />determining strategy of <q>surface to surface, curve to curve, and point to point,</q> we can see that the most difficult orders of integration are the two in which we integrate with respect to <m>z</m> first, for there are two <q>upper</q> surfaces that bound <m>D</m> in the <m>z</m>-direction. So we start by noting that we have
          <me>
            0\leq z\leq 1-\frac12x \text{ and }  0\leq z\leq 1-\frac14y.
          </me>
        </p>

        <p>We now collapse the region <m>D</m> onto the <m>x</m>-<m>y</m> axis, as shown in <xref ref="fig_trip4">Figure</xref>(b). The boundary of <m>D</m>, the line from <m>(0,0,1)</m> to <m>(2,4,0)</m>, is shown in part (b) of the figure as a dashed line; it has equation <m>y=2x</m>. (We can recognize this in two ways: one, in collapsing the line from <m>(0,0,1)</m> to <m>(2,4,0)</m> onto the <m>x</m>-<m>y</m> plane, we simply ignore the <m>z</m>-values, meaning the line now goes from <m>(0,0)</m> to <m>(2,4)</m>. Secondly, the two surfaces meet where <m>z=1-x/2</m> is equal to <m>z=1-y/4</m>: thus <m>1-x/2=1-y/4 \Rightarrow y=2x</m>.)</p>

        <p>We use the second property of <xref ref="thm_triple_int_prop">Theorem</xref> to state that
          <me>
            \iiint_D \ dV = \iiint_{D_1}\ dV + \iiint_{D_2}\ dV,
          </me>
          where <m>D_1</m> and <m>D_2</m> are the space regions above the plane regions <m>R_1</m> and <m>R_2</m>, respectively. Thus we can say
          <me>
            \iiint_D\ dV = \iint_{R_1}\left(\int_0^{1-x/2}\ dz\right)dA + \iint_{R_2}\left(\int_0^{1-y/4}\ dz\right)dA.
          </me>
        </p>

        <p>All that is left is to determine bounds of <m>R_1</m> and <m>R_2</m>, depending on whether we are integrating with order <m>dx\ dy</m> or <m>dy\ dx</m>. We give the final integrals here, leaving it to the reader to confirm these results.</p>

        <p><m>dz\ dy\ dx</m>:
          <me>
            \begin{array}{ccccc}
		\amp  \amp \begin{array}{c}
		0\leq z\leq 1-x/2\\
		0\leq y\leq 2x\\
		0\leq x\leq 2
            \end{array}
		\amp  \amp
		\begin{array}{c}
		0\leq z\leq 1-y/4\\
		2x\leq y\leq 4\\
		0\leq x\leq 2
            \end{array} \\
		\\
		\ds \iiint_D\ dV \amp =\amp  \ds \int_0^2\int_0^{2x}\int_0^{1-x/2}\ dz\ dy\ dx \amp +\amp \ds \int_0^2\int_{2x}^4\int_0^{1-y/4}\ dz\ dy\ dx
            \end{array}
          </me>
        </p>

        <p><m>dz\ dx\ dy</m>:
          <me>
            \begin{array}{ccccc}
		\amp  \amp \begin{array}{c}
		0\leq z\leq 1-x/2\\
		y/2\leq x\leq 2\\
		0\leq y\leq 4
            \end{array}
		\amp  \amp
		\begin{array}{c}
		0\leq z\leq 1-y/4\\
		0\leq x\leq y/2\\
		0\leq y\leq 4
            \end{array} \\
		\\
		\ds \iiint_D\ dV \amp =\amp  \ds \int_0^4\int_{y/2}^{2}\int_0^{1-x/2}\ dz\ dx\ dy \amp +\amp \ds \int_0^4\int_{0}^{y/2}\int_0^{1-y/4}\ dz\ dx\ dy
            \end{array}
          </me>
        </p>

        <p>The remaining four orders of integration do not require a sum of triple integrals. In <xref ref="fig_trip4b">Figure</xref> we show <m>D</m> collapsed onto the other two coordinate planes. Using these graphs, we give the final orders of integration here, again leaving it to the reader to confirm these results.</p>

        <figure xml:id="fig_trip4b" >
        <caption>The region <m>D</m> in <xref ref="ex_trip4">Example</xref> is shown collapsed onto the <m>x</m>-<m>z</m> plane in (a); in (b), it is collapsed onto the <m>y</m>-<m>z</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004984850063920021,
            3Dc2c=0.6418777108192444 0.6134042739868164 0.46013936400413513,
            3Dcoo=-9.54626750946045 -8.89417552947998 36.88103103637695,
            3Droo=150.0000021860597,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip4b_3D.asy -->
            <image xml:id="img_trip4b_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip4b3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(11.2,8.3,2.7);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={2,4};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-0.1,4.25);
                pair ybounds=(-0.1,4.25);
                pair zbounds=(-0.1,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //lines for tetrahedron
                draw((0,0,0)--(2,0,0)--(0,0,1)--cycle,blue+linewidth(2));


                //shade rectangle and sides
                import three;
                path3 p =  (0,0,0)--(2,0,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip4b_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004984850063920021,
            3Dc2c=0.6418777108192444 0.6134042739868164 0.46013936400413513,
            3Dcoo=-9.54626750946045 -8.89417552947998 36.88103103637695,
            3Droo=150.0000021860597,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip4c_3D.asy -->
            <image xml:id="img_trip4c_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip4c3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(4,4,2);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={2,4};
                real[] myychoice={2,4};
                real[] myzchoice={1};
                defaultpen(0.5mm);

                pair xbounds=(-0.1,4.25);
                pair ybounds=(-0.1,4.25);
                pair zbounds=(-0.1,1.5);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //lines for tetrahedron
                draw((0,0,0)--(0,4,0)--(0,0,1)--cycle,blue+linewidth(2));


                //shade rectangle and sides
                import three;
                path3 p =  (0,0,0)--(0,4,0)--(0,0,1);
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip4c_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p><m>dy\ dx\ dz</m>:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq y\leq 4-4z\\
		0\leq x\leq 2-2z\\
		0\leq z\leq 1
            \end{array}
		\amp
		\ds \Rightarrow \int_0^1\int_{0}^{2-2z}\int_0^{4-4z}\ dy\ dx\ dz
            \end{array}
          </me>
        </p>

        <p><m>dy\ dz\ dx</m>:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq y\leq 4-4z\\
		0\leq z\leq 1-x/2\\
		0\leq x\leq 2
            \end{array}
		\amp
		\ds \Rightarrow \int_0^2\int_{0}^{1-x/2}\int_0^{4-4z}\ dy\ dx\ dz
            \end{array}
          </me>
        </p>

        <p><m>dx\ dy\ dz</m>:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq x\leq 2-2z\\
		0\leq y\leq 4-4z\\
		0\leq z\leq 1
            \end{array}
		\amp
		\ds \Rightarrow \int_0^1\int_{0}^{4-4z}\int_0^{2-2z}\ dx\ dy\ dz
            \end{array}
          </me>
        </p>

        <p><m>dx\ dz\ dy</m>:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		0\leq x\leq 2-2z\\
		0\leq z\leq 1-y/4\\
		0\leq y\leq 4
            \end{array}
		\amp
		\ds \Rightarrow \int_0^4\int_{0}^{1-y/4}\int_0^{2-2z}\ dx\ dz\ dy
            \end{array}
          </me>
        </p>
      </solution>
    </example>

    <p>We give one more example of finding the volume of a space region.</p>

    <example xml:id="ex_trip5">
      <title>Finding the volume of a space region</title>
      <statement>
        <p>Set up a triple integral that gives the volume of the space region <m>D</m> bounded by <m>z= 2x^2+2</m> and <m>z=6-2x^2-y^2</m>. These surfaces are plotted in <xref ref="fig_trip5">Figure</xref>(a) and (b), respectively; the region <m>D</m> is shown in part (c) of the figure.</p>

        <figure xml:id="fig_trip5" >
        <caption>The region <m>D</m> is bounded by the surfaces shown in (a) and (b); <m>D</m> is shown in (c).</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004895491059869528,
            3Dc2c=0.5800048112869263 0.5719658732414246 0.5800426006317139,
            3Dcoo=-9.46509075164795 -11.93244457244873 49.59981155395508,
            3Droo=150.00000228824675,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip5b_3D.asy -->
            <image xml:id="img_trip5b_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip5b3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(8.4,6.8,12.6);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-2,2};
                real[] myychoice={-2,2};
                real[] myzchoice={5};
                defaultpen(0.5mm);

                pair xbounds=(-2.5,2.5);
                pair ybounds=(-2.5,2.5);
                pair zbounds=(-0.5,7);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                triple f(pair t) {
                  return (t.x,t.y,6-2*t.x^2-t.y^2);
                }
                surface s=surface(f,(-1,-2),(1,2),16,16,usplinetype=new splinetype[] {notaknot,notaknot,monotonic},vsplinetype=new splinetype[] {notaknot,notaknot,monotonic}
                );
                pen p=rgb(0,0,.7)+.1mm;
                draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);






                //lines for tetrahedron
                //draw((0,0,0)--(0,4,0)--(0,0,1)--cycle,blue+linewidth(2));


                //shade rectangle and sides
                //import three;
                //path3 p =  (0,0,0)--(0,4,0)--(0,0,1);
                //draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip5b_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004895491059869528,
            3Dc2c=0.5800048112869263 0.5719658732414246 0.5800426006317139,
            3Dcoo=-9.46509075164795 -11.93244457244873 49.59981155395508,
            3Droo=150.00000228824675,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip5c_3D.asy -->
            <image xml:id="img_trip5c_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip5c3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(8.4,6.8,12.6);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-2,2};
                real[] myychoice={-2,2};
                real[] myzchoice={5};
                defaultpen(0.5mm);

                pair xbounds=(-2.5,2.5);
                pair ybounds=(-2.5,2.5);
                pair zbounds=(-0.5,7);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));





                triple f(pair t) {
                  return (t.x,t.y,2*t.x^2+2);
                }
                surface s=surface(f,(-1,-2),(1,2),16,16,usplinetype=new splinetype[] {notaknot,notaknot,monotonic},vsplinetype=new splinetype[] {notaknot,notaknot,monotonic});
                pen p=rgb(1,0,0)+.1mm;
                draw(s,rgb(1,.4,.4)+opacity(.7),meshpen=p);



                //lines for tetrahedron
                //draw((0,0,0)--(0,4,0)--(0,0,1)--cycle,blue+linewidth(2));


                //shade rectangle and sides
                //import three;
                //path3 p =  (0,0,0)--(0,4,0)--(0,0,1);
                //draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip5c_3D.asy END -->
          </figure>

          <figure>
            <caption>(c)</caption>
            <!--
             \includemedia[width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004895491059869528,
            3Dc2c=0.5800048112869263 0.5719658732414246 0.5800426006317139,
            3Dcoo=-9.46509075164795 -11.93244457244873 49.59981155395508,
            3Droo=150.00000228824675,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip5_3D.asy -->
            <image xml:id="img_trip5_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip53D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(8.4,6.8,12.6);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-2,2};
                real[] myychoice={-2,2};
                real[] myzchoice={5};
                defaultpen(0.5mm);

                pair xbounds=(-2.5,2.5);
                pair ybounds=(-2.5,2.5);
                pair zbounds=(-0.5,7);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

                //paraboloid  6-2*t.x^2-t.y^2
                triple f(pair t) {
                  return (cos(t.x)*t.y,2*sin(t.x)*t.y,6-(2*(cos(t.x)*t.y)^2+(2*sin(t.x)*t.y)^2));
                }
                surface s=surface(f,(0,0),(2*pi,1),16,8,Spline);
                pen p=rgb(0,0,.7)+.1mm;
                draw(s,rgb(.6,.6,1)+opacity(.5),meshpen=p);


                //parametric trough
                triple f(pair t) {
                  return (cos(t.x)*t.y,2*sin(t.x)*t.y,(2*(cos(t.x)*t.y)^2+2));
                }
                surface s=surface(f,(0,0),(2*pi,1),16,16,Spline);
                pen p=rgb(1,0,0)+.1mm;
                draw(s,rgb(1,.4,.4)+opacity(.5),meshpen=p);







                //ellipse in xy plane
                triple g(real t) {return (cos(t),2*sin(t),0);}
                path3 mypath=graph(g,0,2*pi,operator ..);
                draw(mypath,blue+linewidth(2));

                //ellipse up on the surface intersection
                triple g(real t) {return (cos(t),2*sin(t),2*cos(t)^2+2);}
                path3 mypath=graph(g,0,2*pi,operator ..);draw(mypath,blue+linewidth(2));


                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip5_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>
      </statement>
      <solution>
        <p>The main point of this example is this: integrating with respect to <m>z</m> first is rather straightforward; integrating with respect to <m>x</m> first is not.</p>

        <p>The order <m>dz\ dy\ dx</m>:</p>

        <p>The bounds on <m>z</m> are clearly <m>2x^2+2\leq z\leq 6-2x^2-y^2</m>. Collapsing <m>D</m> onto the <m>x</m>-<m>y</m> plane gives the ellipse shown in <xref ref="fig_trip5">Figure</xref>(c). The equation of this ellipse is found by setting the two surfaces equal to each other:
          <me>
            2x^2+2 = 6-2x^2-y^2 \Rightarrow 4x^2+y^2=4 \Rightarrow x^2+\frac{y^2}4=1.
          </me>
        </p>

        <p>\hskip2
          We can describe this ellipse with the bounds
          <me>
            -\sqrt{4-4x^2} \leq y\leq \sqrt{4-4x^2} \text{ and }  -1\leq x\leq 1.
          </me>
        </p>

        <p>Thus we find volume as
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		2x^2+2\leq z\leq 6-2x^2-y^2\\
		-\sqrt{4-4x^2}\leq y\leq \sqrt{4-4x^2}\\
		-1\leq x\leq 1
            \end{array}
		\amp
		\ds \Rightarrow \int_{-1}^1\int_{-\sqrt{4-4x^2}}^{\sqrt{4-4x^2}}\int_{2x^2+2}^{6-2x^2-y^2}\ dz\ dy\ dx
            \end{array} .
          </me>
        </p>

        <p>The order <m>dy\ dz\ dx</m>:</p>

        <p>Integrating with respect to <m>y</m> is not too difficult. Since the surface <m>z=2x^2+2</m> is a cylinder whose directrix is the <m>y</m>-axis, it does not create a border for <m>y</m>. The paraboloid <m>z=6-2x^2-y^2</m> does; solving for <m>y</m>, we get the bounds
          <me>
            -\sqrt{6-2x^2-z}\leq y\leq \sqrt{6-2x^2-z}.
          </me>
        </p>

        <p>Collapsing <m>D</m> onto the <m>x</m>-<m>z</m> axes gives the region shown in <xref ref="fig_trip5b">Figure</xref>(a); the lower curve is from the cylinder, with equation <m>z=2x^2+2</m>. The upper curve is from the paraboloid; with <m>y=0</m>, the curve is <m>z=6-2x^2</m>. Thus bounds on <m>z</m> are <m>2x^2+2\leq z\leq 6-2x^2</m>; the bounds on <m>x</m> are <m>-1\leq x\leq 1</m>. Thus we have:
          <me>
            \begin{array}{cc}
		\begin{array}{c}
		-\sqrt{6-2x^2-z}\leq y\leq \sqrt{6-2x^2-z}\\
		2x^2+2\leq z\leq 6-2x^2\\
		-1\leq x\leq 1
            \end{array}
		\amp
		\ds \Rightarrow \int_{-1}^1\int_{2x^2+2}^{6-2x^2}\int_{-\sqrt{6-2x^2-z}}^{\sqrt{6-2x^2-z}}\ dy\ dz\ dx.
            \end{array}
          </me>
        </p>

        <figure xml:id="fig_trip5b" >
        <caption>The region <m>D</m> in <xref ref="ex_trip5">Example</xref> is collapsed onto the <m>x</m>-<m>z</m> plane in (a); in (b), it is collapsed onto the <m>y</m>-<m>z</m> plane.</caption>
        <sidebyside>
          <figure>
            <caption>(a)</caption>
            <!--
             \includemedia[width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004895491059869528,
            3Dc2c=0.5800048112869263 0.5719658732414246 0.5800426006317139,
            3Dcoo=-9.46509075164795 -11.93244457244873 49.59981155395508,
            3Droo=150.00000228824675,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip5e_3D.asy -->
            <image xml:id="img_trip5e_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip5e3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(8.4,6.8,12.6);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-2,2};
                real[] myychoice={-2,2};
                real[] myzchoice={2,4,6};
                defaultpen(0.5mm);

                pair xbounds=(-2.5,2.5);
                pair ybounds=(-2.5,2.5);
                pair zbounds=(-0.5,7);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                //curves in xy plane
                triple g(real t) {return (t,0,2*t^2+2);}
                path3 mypath=graph(g,-1,1,operator ..);draw(mypath,blue+linewidth(2));
                triple g(real t) {return (t,0,6-2*t^2);}
                path3 mypath=graph(g,-1,1,operator ..);draw(mypath,blue+linewidth(2));


                //shade area inbetween
                int k=12;
                import three;
                for (int i=0; i<k; ++i)
                {
                path3 p =  (i/k,0,2*(i/k)^2+2)-- ((i+1)/k,0,2*((i+1)/k)^2+2)--((i+1)/k,0,6-2*((i+1)/k)^2) -- ((i)/k,0,6-2*(i/k)^2); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (-i/k,0,2*(i/k)^2+2)-- (-(i+1)/k,0,2*((i+1)/k)^2+2)--(-(i+1)/k,0,6-2*((i+1)/k)^2) -- (-(i)/k,0,6-2*(i/k)^2); //Left
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                }



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip5e_3D.asy END -->
          </figure>

          <figure>
            <caption>(b)</caption>
            <!--
             \includemedia[width=125pt,3Dmenu,activate=onclick,deactivate=onclick,
            3Droll=0,
            3Dortho=0.004895491059869528,
            3Dc2c=0.5800048112869263 0.5719658732414246 0.5800426006317139,
            3Dcoo=-9.46509075164795 -11.93244457244873 49.59981155395508,
            3Droo=150.00000228824675,
            3Dlights=Headlamp,add3Djscript=asylabels.js]
             -->


            <!-- START figures/figtrip5d_3D.asy -->
            <image xml:id="img_trip5d_3D" >
              <asymptote>
                <![CDATA[
                import graph3;

                //ASY file for figtrip5d3D.asy in Chapter 13


                size(200,200,IgnoreAspect);
                //currentprojection=perspective(7,2,1);
                currentprojection=orthographic(8.4,6.8,12.6);
                defaultrender.merge=true;

                usepackage("mathspec");
                texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                texpreamble("\setmathsfont(Greek){[cmmi10]}");

                // setup and draw the axes
                real[] myxchoice={-2,2};
                real[] myychoice={-2,2};
                real[] myzchoice={2,4,6};
                defaultpen(0.5mm);

                pair xbounds=(-2.5,2.5);
                pair ybounds=(-2.5,2.5);
                pair zbounds=(-0.5,7);

                xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                //curves in xy plane
                triple g(real t) {return (0,t,6-t^2);}
                path3 mypath=graph(g,-2,2,operator ..);draw(mypath,blue+linewidth(2));
                triple g(real t) {return (0,t,4-t^2/2);}
                path3 mypath=graph(g,-2,2,operator ..);draw(mypath,blue+linewidth(2));
                draw((0,-2,2)--(0,2,2),blue+linewidth(2));


                //shade area inbetween
                int k=12;
                import three;
                for (int i=-2*k; i<2*k; ++i)
                {
                path3 p =  (0,i/k,6-(i/k)^2)-- (0,(i+1)/k,6-((i+1)/k)^2)--(0,(i+1)/k,4-(0.5)*((i+1)/k)^2) -- (0,(i)/k,4-(0.5)*((i)/k)^2); //top in blue
                draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                path3 p =  (0,i/k,2)-- (0,(i+1)/k,2)--(0,(i+1)/k,4-(0.5)*((i+1)/k)^2) -- (0,(i)/k,4-(0.5)*((i)/k)^2); //bottom in pink
                draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(0.7)));
                }

                //labels
                label("$R_1$",(0.1,.5,3));
                label("$R_2$",(0.1,.5,5));
                label("$z=4-y^2/2$",(0,-1.5,5.5));
                label("$z=6-y^2$",(0,2,6));
                draw((0.2,-1.5,5.3)--(0,-1,3.55),Arrow3(size=2mm));
                draw((0.2,2,5.7)--(0,1,5.05),Arrow3(size=2mm));



                // ////////////////////////////////////
                //    SAMPLE CODE

                // defaultpen(fontsize(10pt));

                //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //triple f(pair t) {
                //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                //}
                //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                //pen p=rgb(0,0,.7);
                //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                //draw(s,paleblue);
                //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                //draw(mypath,2bp+blue);

                //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                //path3 mypath=graph(g,-1,1,operator ..);
                //draw(mypath,blue+dashed+linewidth(2));

                //pen p=rgb(0,0,1);
                //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                ]]>
              </asymptote>
            </image>
            <!-- figures/figtrip5d_3D.asy END -->
          </figure>
        </sidebyside>

        </figure>

        <p>The order <m>dx\ dz\ dy</m>:</p>

        <p>This order takes more effort as <m>D</m> must be split into two subregions. The two surfaces create two sets of upper/lower bounds in terms of <m>x</m>; the cylinder creates bounds
          <me>
            -\sqrt{z/2-1}\leq x\leq \sqrt{z/2-1}
          </me>
          for region <m>D_1</m> and the paraboloid creates bounds
          <me>
            -\sqrt{3-y^2/2-z^2/2}\leq x\leq \sqrt{3-y^2/2-z^2/2}
          </me>
          for region <m>D_2</m>.</p>

        <p>Collapsing <m>D</m> onto the <m>y</m>-<m>z</m> axes gives the regions shown in <xref ref="fig_trip5b">Figure</xref>(b). We find the equation of the curve <m>z=4-y^2/2</m> by noting that the equation of the ellipse seen in <xref ref="fig_trip5">Figure</xref>(c) has equation
          <me>
            x^2+y^2/4=1  \Rightarrow  x = \sqrt{1-y^2/4}.
          </me>
        </p>

        <p>Substitute this expression for <m>x</m> in either surface equation, <m>z=6-2x^2-y^2</m> or <m>z=2x^2+2</m>. In both cases, we find
          <me>
            z=4-\frac12y^2.
          </me>
        </p>

        <p>Region <m>R_1</m>, corresponding to <m>D_1</m>, has bounds
          <me>
            2\leq z\leq 4-y^2/2, -2\leq y\leq 2
          </me>
          and region <m>R_2</m>, corresponding to <m>D_2</m>, has bounds
          <me>
            4-y^2/2\leq z\leq 6-y^2, -2\leq y\leq 2.
          </me>
        </p>

        <p>Thus the volume of <m>D</m> is given by:
          <me>
            \int_{-2}^2\int_2^{4-y^2/2}\int_{-\sqrt{z/2-1}}^{\sqrt{z/2-1}}\ dx\ dz\ dy \ +\ \int_{-2}^2\int_{4-y^2/2}^{6-y^2}\int_{-\sqrt{3-y^2/2-z^2/2}}^{\sqrt{3-y^2/2-z^2/2}}\ dx\ dz\ dy.
          </me>
        </p>
      </solution>
    </example>

    <p>If all one wanted to do in <xref ref="ex_trip5">Example</xref> was find the volume of the region <m>D</m>, one would have likely stopped at the first integration setup (with order <m>dz\ dy\ dx</m>) and computed the volume from there. However, we included the other two methods 1) to show that it could be done, <q>messy</q> or not, and 2) because sometimes we <q>have</q> to use a less desirable order of integration in order to actually integrate.</p>

    <p><em> Triple Integration and Functions of Three Variables</em></p>

    <p>There are uses for triple integration beyond merely finding volume, just as there are uses for integration beyond <q>area under the curve.</q> These uses start with understanding how to integrate functions of three variables, which is effectively no different than integrating functions of two variables. This leads us to a definition, followed by an example.</p>

    <definition xml:id="def_triple_integral_2">
      <title>Iterated Integration, (Part II)</title>
      <statement>
        <p>Let <m>D</m> be a closed, bounded region in space, over which <m>g_1(x)</m>, <m>g_2(x)</m>, <m>f_1(x,y)</m>, <m>f_2(x,y)</m> and <m>h(x,y,z)</m> are all continuous, and let <m>a</m> and <m>b</m> be real numbers.</p>

        <p>The <term>iterated integral</term> <m>\ds \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} h(x,y,z)\ dz\ dy\ dx</m> is evaluated as
          <index><main>integration</main><sub>triple</sub></index><index><main>triple integral</main></index><index><main>iterated integration</main></index>
          <me>
            \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} h(x,y,z)\ dz\ dy\ dx = \int_a^b\int_{g_1(x)}^{g_2(x)}\left(\int_{f_1(x,y)}^{f_2(x,y)} h(x,y,z)\ dz\right) dy\ dx.
          </me>
        </p>
      </statement>
    </definition>

    <example xml:id="ex_trip6">
      <title>Evaluating a triple integral of a function of three variables</title>
      <statement>
        <p>Evaluate <m>\ds \int_0^1\int_{x^2}^x\int_{x^2-y}^{2x+3y} \big(xy+2xz\big)\ dz\ dy\ dx</m>.</p>
      </statement>
      <solution>
        <p>We evaluate this integral according to <xref ref="def_triple_integral_2">Definition</xref>.</p>

        <p><m>\ds \int_0^1\int_{x^2}^x\int_{x^2-y}^{2x+3y} \big(xy+2xz\big)\ dz\ dy\ dx</m>
          <md>
            <mrow>\amp =	\int_0^1\int_{x^2}^x\left(\int_{x^2-y}^{2x+3y} \big(xy+2xz\big)\ dz\right)\ dy\ dx</mrow>
            <mrow>\amp = \int_0^1\int_{x^2}^x\left(\big(xyz+ xz^2\big)\Big|_{x^2-y}^{2x+3y}\right)\ dy\ dx</mrow>
            <mrow>\amp = \int_0^1\int_{x^2}^x\Bigg(xy(2x+3y)+x(2x+3y)^2-\Big(xy(x^2-y)+x(x^2-y)^2\Big)\Bigg)\ dy\ dx</mrow>
            <mrow>\amp =\int_0^1\int_{x^2}^x\Big(-x^5+x^3y+4x^3+14x^2y+12xy^2\Big)\ dy\ dx.</mrow>
            <intertext>We continue as we have in the past, showing fewer steps.</intertext>
            <mrow>\amp = \int_0^1\Bigg(-\frac72x^7-8x^6-\frac72x^5+15x^4\Bigg)\ dx</mrow>
            <mrow>\amp = \frac{281}{336}\approx 0.836.</mrow>
          </md>
        </p>
      </solution>
    </example>

    <p>We now know <em>how</em> to evaluate a triple integral of a function of three variables; we do not yet understand what it <em>means</em>. We build up this understanding in a way very similar to how we have understood integration and double integration.</p>

    <p>Let <m>h(x,y,z)</m> a continuous function of three variables, defined over some space region <m>D</m>. We can partition <m>D</m> into <m>n</m> rectangular<ndash />solid subregions, each with dimensions <m>\dx_i\times\dy_i\times\ddz_i</m>. Let <m>(x_i,y_i,z_i)</m> be some point in the <m>i^{\,\text{ th } }</m> subregion, and consider the product <m>h(x_i,y_i,z_i)\dx_i\dy_i\ddz_i</m>. It is the product of a function value (that's the <m>h(x_i,y_i,z_i)</m> part) and a small volume <m>\Delta V_i</m> (that's the <m>\dx_i\dy_i\ddz_i</m> part). One of the simplest understanding of this type of product is when <m>h</m> describes the density of an object, for then <m>h\times\text{ volume } =\text{ mass }</m>.</p>

    <p>We can sum up all <m>n</m> products over <m>D</m>. Again letting <m>\norm{\Delta D}</m> represent the length of the longest diagonal of the <m>n</m> rectangular solids in the partition, we can take the limit of the sums of products as <m>\norm{\Delta D}\to 0</m>. That is, we can find
      <me>
        S = \lim_{\norm{\Delta D}\to 0} \sum_{i=1}^n h(x_i,y_i,z_i)\Delta V_i=\lim_{\norm{\Delta D}\to 0} \sum_{i=1}^n h(x_i,y_i,z_i)\dx_i\dy_i\ddz_i.
      </me>
    </p>

    <p>While this limit has lots of interpretations depending on the function <m>h</m>, in the case where <m>h</m> describes density, <m>S</m> is the total mass of the object described by the region <m>D</m>.</p>

    <p>We now use the above limit to define the <em>triple integral</em>, give a theorem that relates triple integrals to iterated iteration, followed by the application of triple integrals to find the centers of mass of solid objects.</p>

    <definition xml:id="def_triple_integral_3">
      <title>Triple Integral</title>
      <statement>
        <p>Let <m>w=h(x,y,z)</m> be a continuous function over a closed, bounded space region <m>D</m>, and let <m>\Delta D</m> be any partition of <m>D</m> into <m>n</m> rectangular solids with volume <m>\Delta V_i</m>. The <term>triple integral of <m>h</m> over <m>D</m></term> is
          <index><main>integration</main><sub>triple</sub></index><index><main>triple integral</main></index><index><main>iterated integration</main></index>
          <me>
            \iiint_Dh(x,y,z)\ dV = \lim_{\norm{\Delta D}\to 0}\sum_{i=1}^n h(x_i,y_i,z_i)\Delta V_i.
          </me>
        </p>
      </statement>
    </definition>

    <aside>
      <p>In the marginal note on <xref ref="note_doubleint">page</xref>, we showed how the summation of rectangles over a region <m>R</m> in the plane could be viewed as a double sum, leading to the double integral. Likewise, we can view the sum <m>\ds \sum_{i=1}^nh(x_i,y_i,z_i)\dx_i\dy_i\ddz_i</m> as a triple sum,
        <me>
          \sum_{k=1}^p\sum_{j=1}^n\sum_{i=1}^mh(x_i,y_j,z_k)\dx_i\dy_j\ddz_k,
        </me>
        which we evaluate as
        <me>
          \sum_{k=1}^p\left(\sum_{j=1}^n\left(\sum_{i=1}^mh(x_i,y_j,z_k)\dx_i\right)\dy_j\right)\ddz_k.
        </me>
      </p>

      <p>Here we fix a <m>k</m> value, which establishes the <m>z</m>-height of the rectangular solids on one <q>level</q> of all the rectangular solids in the space region <m>D</m>. The inner double summation adds up all the volumes of the rectangular solids on this level, while the outer summation adds up the volumes of each level.</p>

      <p>This triple summation understanding leads to the <m>\iiint_D</m> notation of the triple integral, as well as the method of evaluation shown in <xref ref="thm_triple_integration2">Theorem</xref>.</p>
    </aside>

    <p>The following theorem assures us that the above limit exists for continuous functions <m>h</m> and gives us a method of evaluating the limit.</p>

    <theorem xml:id="thm_triple_integration2">
      <title>Triple Integration (Part II)</title>
      <statement>
        <p>Let <m>w=h(x,y,z)</m> be a continuous function over a closed, bounded space region <m>D</m>, and let <m>\Delta D</m> be any partition of <m>D</m> into <m>n</m> rectangular solids with volume <m>V_i</m>.
          <index><main>integration</main><sub>triple</sub></index><index><main>triple integral</main></index><index><main>iterated integration</main></index></p>

        <ol>
          <li><p>The limit <m>\lim\limits_{\norm{\Delta D}\to 0}\sum_{i=1}^n h(x_i,y_i,z_i)\Delta V_i</m> exists.</p></li>

          <li><p>If <m>D</m> is defined as the region bounded by the planes <m>x=a</m> and <m>x=b</m>, the cylinders <m>y=g_1(x)</m> and <m>y=g_2(x)</m>, and the surfaces <m>z=f_1(x,y)</m> and <m>z=f_2(x,y)</m>, where <m>a\lt b</m>, <m>g_1(x)\leq g_2(x)</m> and <m>f_1(x,y)\leq f_2(x,y)</m> on <m>D</m>, then
              <me>
                \iiint_D h(x,y,z)\ dV = \int_a^b\int_{g_1(x)}^{g_2(x)}\int_{f_1(x,y)}^{f_2(x,y)} h(x,y,z)\ dz\ dy\ dx.
              </me>
            </p></li>
        </ol>
      </statement>
    </theorem>

    <p>We now apply triple integration to find the centers of mass of solid objects.</p>
  </introduction>

  <subsection>
    <title>Mass and Center of Mass</title>
    <p>One may wish to review <xref ref="sec_center_of_mass">Section</xref> for a reminder of the relevant terms and concepts.</p>

    <definition xml:id="def_mass_3d">
      <title>Mass, Center of Mass of Solids</title>
      <statement>
        <p>Let a solid be represented by a region <m>D</m> in space with variable density function <m>\delta(x,y,z)</m>.
          <index><main>moment</main></index><index><main>center of mass</main></index><index><main>mass</main></index></p>

        <ol>
          <li><p>The <em>mass</em> of the object is <m>\ds M= \iiint_D \ dm=\iiint_D \delta(x,y,z)\ dV</m>.</p></li>

          <li><p>The <em>moment about the <m>x</m>-<m>y</m> plane</em> is <m>\ds M_{xy}=\iiint_D z\delta(x,y,z)\ dV</m>.</p></li>

          <li><p>The <em>moment about the <m>x</m>-<m>z</m> plane</em> is <m>\ds M_{xz}=\iiint_D y\delta(x,y,z)\ dV</m>.</p></li>

          <li><p>The <em>moment about the <m>y</m>-<m>z</m> plane</em> is <m>\ds M_{yz}=\iiint_D x\delta(x,y,z)\ dV</m>.</p></li>

          <li><p>The <em>center of mass</em> of the object is
              <me>
                \big(\overline{x},\overline{y},\overline{z}\big) = \left(\frac{M_{yz}}M,\frac{M_{xz}}M,\frac{M_{xy}}M\right).
              </me>
            </p></li>
        </ol>
      </statement>
    </definition>

    <example xml:id="ex_trip7">
      <title>Finding the center of mass of a solid</title>
      <statement>
        <p>Find the mass and center of mass of the solid represented by the space region bounded by the coordinate planes and <m>z=2-y/3-2x/3</m>, shown in <xref ref="fig_trip7">Figure</xref>, with constant density <m>\delta(x,y,z)=3</m>gm/cm<m>^3</m>. (Note: this space region was used in <xref ref="ex_trip2">Example</xref>.)</p>

        <figure xml:id="fig_trip7" >
          <caption>Finding the center of mass of this solid in <xref ref="ex_trip7">Example</xref>.</caption>
          <!--
           \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
          3Droll=0,
          3Dortho=0.004707579035311937,
          3Dc2c=0.4086907207965851 0.6385185718536377 0.6521241664886475,
          3Dcoo=3.675152540206909 -7.818903923034668 16.216196060180664,
          3Droo=150.00000119319247,
          3Dlights=Headlamp,add3Djscript=asylabels.js]
           -->


          <!-- START figures/figtrip2_3D.asy -->
          <image xml:id="img_trip7" >
            <asymptote>
              <![CDATA[
              import graph3;

              //ASY file for figtrip23D.asy in Chapter 13


              size(200,200,IgnoreAspect);
              //currentprojection=perspective(7,2,1);
              currentprojection=orthographic(7.2,10.1,6.5);
              defaultrender.merge=true;

              usepackage("mathspec");
              texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
              texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
              texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
              texpreamble("\setmathsfont(Greek){[cmmi10]}");

              // setup and draw the axes
              real[] myxchoice={2,4};
              real[] myychoice={5};
              real[] myzchoice={2};
              defaultpen(0.5mm);

              pair xbounds=(-0.5,5);
              pair ybounds=(-0.5,7);
              pair zbounds=(-0.5,3);

              xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
              yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
              zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

              label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
              label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
              label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

              //triangle in space
              draw((3,0,0)--(0,6,0)--(0,0,2)--cycle,blue+linewidth(1.5));

              //shade
              import three;
              path3 p =  (3,0,0)--(0,6,0)--(0,0,2); //Left
              draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));




              // ////////////////////////////////////
              //    SAMPLE CODE

              // defaultpen(fontsize(10pt));

              //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
              //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
              //pen p=rgb(0,0,.7);
              //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

              //triple f(pair t) {
              //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
              //}
              //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
              //pen p=rgb(0,0,.7);
              //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

              //draw(s,paleblue);
              //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
              //draw(mypath,2bp+blue);

              //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
              //path3 mypath=graph(g,-1,1,operator ..);
              //draw(mypath,blue+dashed+linewidth(2));

              //pen p=rgb(0,0,1);
              //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
              ]]>
            </asymptote>
          </image>
          <!-- figures/figtrip2_3D.asy END -->
        </figure>
      </statement>
      <solution>
        <p>We apply <xref ref="def_mass_3d">Definition</xref>. In <xref ref="ex_trip2">Example</xref>, we found bounds for the order of integration <m>dz\ dy\ dx</m> to be <m>0\leq z\leq 2-y/3-2x/3</m>, <m>0\leq y\leq 6-2x</m> and <m>0\leq x\leq 3</m>. We find the mass of the object:
          <md>
            <mrow>M \amp = \iiint_D \delta(x,y,z)\ dV</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x}\int_0^{2-y/3-2x/3} \big(3\big)\ dz\ dy\ dx</mrow>
            <mrow>\amp = 3\int_0^3\int_0^{6-2x}\int_0^{2-y/3-2x/3} \ dz\ dy\ dx</mrow>
            <mrow>\amp = 3(6) = 18\text{ gm } .</mrow>
          </md>
        </p>

        <p>The evaluation of the triple integral is done in <xref ref="ex_trip2">Example</xref>, so we skipped those steps above. Note how the mass of an object with constant density is simply <q>density<times />volume.</q></p>

        <p>We now find the moments about the planes.
          <md>
            <mrow>M_{xy} \amp = \iiint_D 3z\ dV</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x}\int_0^{2-y/3-2x/3} \big(3z\big)\ dz\ dy\ dx</mrow>
            <mrow>\amp = \int_0^3\int_0^{6-2x} \frac32\big(2-y/3-2x/3\big)^2\ dy\ dx</mrow>
            <mrow>\amp = \int_0^3 -\frac49\big(x-3\big)^3\ dx</mrow>
            <mrow>\amp = 9.</mrow>
          </md>
        </p>

        <p>We omit the steps of integrating to find the other moments.
          <md>
            <mrow>M_{yz} \amp = \iiint_D 3x\ dV</mrow>
            <mrow>\amp = \frac{27}2.</mrow>
            <mrow>M_{xz} \amp = \iiint_D 3y\ dV</mrow>
            <mrow>\amp = 27.</mrow>
          </md>
        </p>

        <p>The center of mass is
          <me>
            \big(\overline{x},\overline{y},\overline{z}\big) = \left(\frac{27/2}{18},\frac{27}{18},\frac{9}{18}\right) = \big(0.75,1.5,0.5\big).
          </me>
        </p>
      </solution>
    </example>

    <example xml:id="ex_trip8">
      <title>Finding the center of mass of a solid</title>
      <statement>
        <p>Find the center of mass of the solid represented by the region bounded by the planes <m>z=0</m> and <m>z=-y</m> and the cylinder <m>x^2+y^2=1</m>, shown in <xref ref="fig_trip8">Figure</xref>, with density function <m>\delta(x,y,z) = 10+x^2+5y-5z</m>. (Note: this space region was used in <xref ref="ex_trip3">Example</xref>.)</p>

        <figure xml:id="fig_trip8" >
          <caption>Finding the center of mass of this solid in <xref ref="ex_trip8">Example</xref>.</caption>
          <!--
           \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
          3Droll=0,
          3Dortho=0.004735102877020836,
          3Dc2c=0.8340418338775635 0.34454345703125 0.43088746070861816,
          3Dcoo=-6.1953253746032715 -30.81180191040039 48.79259490966797,
          3Droo=149.99999973988238,
          3Dlights=Headlamp,add3Djscript=asylabels.js]
           -->


          <!-- START figures/figtrip3_3D.asy -->
          <image xml:id="img_trip8" >
            <asymptote>
              <![CDATA[
              import graph3;

              //ASY file for figtrip33D.asy in Chapter 13


              size(200,200,IgnoreAspect);
              //currentprojection=perspective(7,2,1);
              currentprojection=orthographic(7.1,1.9,2);
              defaultrender.merge=true;

              usepackage("mathspec");
              texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
              texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
              texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
              texpreamble("\setmathsfont(Greek){[cmmi10]}");

              // setup and draw the axes
              real[] myxchoice={-1,1};
              real[] myychoice={-1,-0.5};
              real[] myzchoice={1};
              defaultpen(0.5mm);

              pair xbounds=(-1.25,1.25);
              pair ybounds=(-1.25,0.5);
              pair zbounds=(-0.25,1.5);

              xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
              yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
              zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

              label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
              label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
              label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));

              triple f(pair t) {return (cos(t.x),sin(t.x),-sin(t.x)*t.y);}
              surface s=surface(f,(-pi,0),(0,1),16,2,Spline);
              pen p=rgb(0,0,.7)+.1mm;
              draw(s,emissive(rgb(.6,.6,1)+opacity(.7)),meshpen=p);


              triple f(pair t) {return (cos(t.x)*t.y,sin(t.x)*t.y,-sin(t.x)*t.y);}
              surface s=surface(f,(-pi,0),(0,1),16,2,Spline);
              pen p=rgb(1,0,0)+.1mm;
              draw(s,emissive(rgb(1,.6,.6)+opacity(.7)),meshpen=p);



              //disk x^2+y^2=1 in 3rd and 4th quadrants
              triple g(real t) {return (cos(t),sin(t),0);}
              path3 mypath=graph(g,pi,2*pi,operator ..);draw(mypath,blue+linewidth(1.5));

              //surface above disk x^2+y^2=1 in 3rd and 4th quadrants
              triple g(real t) {return (cos(t),sin(t),-sin(t));}
              path3 mypath=graph(g,pi,2*pi,operator ..);
              draw(mypath,blue+linewidth(1.5));



              //label the surfaces
              label("$x^2+y^2=1$",(1.4,-.5,0));
              draw((1.1,-.6,0)--(.7,-.7,.35),Arrow3(size=2mm));
              label("$z=-y$",(0,-.5,1.25));
              draw((0,-.5,1.15)--(0,-.5,.5),Arrow3(size=2mm));


              // ////////////////////////////////////
              //    SAMPLE CODE

              // defaultpen(fontsize(10pt));

              //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
              //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
              //pen p=rgb(0,0,.7);
              //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

              //triple f(pair t) {
              //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
              //}
              //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
              //pen p=rgb(0,0,.7);
              //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

              //draw(s,paleblue);
              //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
              //draw(mypath,2bp+blue);

              //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
              //path3 mypath=graph(g,-1,1,operator ..);
              //draw(mypath,blue+dashed+linewidth(2));

              //pen p=rgb(0,0,1);
              //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
              ]]>
            </asymptote>
          </image>
          <!-- figures/figtrip3_3D.asy END -->
        </figure>
      </statement>
      <solution>
        <p>As we start, consider the density function. It is symmetric about the <m>y</m>-<m>z</m> plane, and the farther one moves from this plane, the denser the object is. The symmetry indicates that <m>\overline x</m> should be 0.</p>

        <p>As one moves away from the origin in the <m>y</m> or <m>z</m> directions, the object becomes less dense, though there is more volume in these regions.</p>

        <p>Though none of the integrals needed to compute the center of mass are particularly hard, they do require a number of steps. We emphasize here the importance of knowing how to set up the proper integrals; in complex situations we can appeal to technology for a good approximation, if not the exact answer. We use the order of integration <m>dz\ dy\ dx</m>, using the bounds found in <xref ref="ex_trip3">Example</xref>. (As these are the same for all four triple integrals, we explicitly show the bounds only for <m>M</m>.)
          <md>
            <mrow>M \amp = \iiint_D \big(10+x^2+5y-5z\big)\ dV</mrow>
            <mrow>\amp = \int_{-1}^1\int_{-\sqrt{1-x^2}}^0\int_0^{-y} \big(10+x^2+5y-5z\big)\ dV</mrow>
            <mrow>\amp = \frac{64}5-\frac{15\pi}{16} \approx 3.855.</mrow>
            <mrow>M_{yz}	\amp = \iiint_D x\big(10+x^2+5y-5z\big)\ dV</mrow>
            <mrow>\amp =0.</mrow>
            <mrow>M_{xz} \amp = \iiint_D y\big(10+x^2+5y-5z\big)\ dV</mrow>
            <mrow>\amp = 2-\frac{61\pi}{48}\approx -1.99.</mrow>
            <mrow>M_{xy}	\amp = \iiint_D z\big(10+x^2+5y-5z\big)\ dV</mrow>
            <mrow>\amp = \frac{61\pi}{96}-\frac{10}9\approx 0.885.</mrow>
          </md>
        </p>

        <p>Note how <m>M_{yz}=0</m>, as expected. The center of mass is
          <me>
            \big(\overline{x},\overline{y},\overline{z}\big) = \left(0,\frac{-1.99}{3.855},\frac{0.885}{3.855}\right) \approx \big(0,-0.516, 0.230\big).
          </me>
        </p>
      </solution>
    </example>

    <p>As stated before, there are many uses for triple integration beyond finding volume. When <m>h(x,y,z)</m> describes a rate of change function over some space region <m>D</m>, then <m>\ds \iiint_D h(x,y,z)\ dV</m> gives the total change over <m>D</m>. Our one specific example of this was computing mass; a density function is simply a <q>rate of mass change per volume</q> function. Integrating density gives total mass.</p>

    <p>While knowing <em>how to integrate</em> is important, it is arguably much more important to know <em>how to set up</em> integrals. It takes skill to create a formula that describes a desired quantity; modern technology is very useful in evaluating these formulas quickly and accurately.</p>

    <p>This chapter investigated the natural follow<ndash />on to partial derivatives: iterated integration. We learned how to use the bounds of a double integral to describe a region in the plane using both rectangular and polar coordinates, then later expanded to use the bounds of a triple integral to describe a region in space. We used double integrals to find volumes under surfaces, surface area, and the center of mass of lamina; we used triple integrals as an alternate method of finding volumes of space regions and also to find the center of mass of a region in space.</p>

    <p>Integration does not stop here. We could continue to iterate our integrals, next investigating <q>quadruple integrals</q> whose bounds describe a region in 4<ndash />dimensional space (which are very hard to visualize). We can also look back to <q>regular</q> integration where we found the area under a curve in the plane. A natural analogue to this is finding the <q>area under a curve,</q> where the curve is in space, not in a plane. These are just two of many avenues to explore under the heading of <q>integration.</q></p>
  </subsection>

  <exercises>
    <exercisegroup>
      <introduction>
        <p>Terms and Concepts</p>
      </introduction>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p>The strategy for establishing bounds for triple integrals is <q><fillin /> to <fillin />, <fillin /> to <fillin /> and <fillin /> to <fillin />.</q></p>
          </statement>
          <solution>
            <p>surface to surface, curve to curve and point to point</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p>Give an informal interpretation of what <q><m>\ds \iiint_D\ dV</m></q> means.</p>
          </statement>
          <solution>
            <p>One possible answer is <q>sum up lots of little volumes over <m>D</m>.</q></p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p>Give two uses of triple integration.</p>
          </statement>
          <solution>
            <p>Answers can vary. From this section we used triple integration to find the volume of a solid region, the mass of a solid, and the center of mass of a solid.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p>If an object has a constant density <m>\delta</m> and a volume <m>V</m>, what is its mass?</p>
          </statement>
          <solution>
            <p><m>\delta V</m>.</p>
          </solution>
        </webwork>
      </exercise>
    </exercisegroup>
    <exercisegroup>
      <introduction>
        <p>In the following exercises, two surfaces <m>f_1(x,y)</m> and <m>f_2(x,y)</m> and a region <m>R</m> in the <m>x</m>, <m>y</m> plane are given. Set up and evaluate the double integral that finds the volume between these surfaces over <m>R</m>.</p>
      </introduction>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>f_1(x,y) = 8-x^2-y^2</m>, <m>f_2(x,y) = 2x+y</m>;</p>

            <p><m>R</m> is the square with corners <m>(-1,-1)</m> and <m>(1,1)</m>.</p>
          </statement>
          <solution>
            <p><m>V = \int_{-1}^1\int_{-1}^1 \big(8-x^2-y^2-(2x+y)\big)\ dx\ dy = 88/3</m></p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="$int">
              <static>52</static>
            </var>
            <pg-code>
                $int=Compute("52");
            </pg-code>
          </setup>
          <statement>
            <p>Evaluate the double integral that finds the volme between the surfaces <m>z=f_1(x,y) = x^2+y^2</m> and <m>z=f_2(x,y) = -x^2-y^2</m>, over <m>R</m>, the square with corners <m>(0,0)</m> and <m>(2,3)</m>.</p>
            <p><var name="$int" width="15" /></p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>f_1(x,y) = \sin(x) \cos(y)</m>, <m>f_2(x,y) = \cos(x) \sin(y) +2</m>;</p>

            <p><m>R</m> is the triangle with corners <m>(0,0)</m>, <m>(\pi,0)</m> and <m>(\pi,\pi)</m>.</p>
          </statement>
          <solution>
            <p><m>V = \int_{0}^{\pi}\int_{0}^x \big(\cos(x) \sin(y) +2-\sin(x) \cos(y) \big)\ dy\ dx = \pi^2-\pi\approx 6.728</m></p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="$int">
              <static>3\pi/2</static>
            </var>
            <pg-code>
                $int=Compute("3pi/2");
            </pg-code>
          </setup>
          <statement>
            <p>Evaluate the double integral that finds the volme between the surfaces <m>z=f_1(x,y) = 2x^2+2y^2+3</m> and <m>z=f_2(x,y) = 6-x^2-y^2</m>, over <m>R</m>, the disc <m>x^2+y^2\leq1</m>.</p>
            <p><var name="$int" width="15" /></p>
          </statement>
        </webwork>
      </exercise>
  </exercisegroup>

  <exercisegroup>
    <introduction>
        <p>In the following exercises, a domain <m>D</m> is described by its bounding surfaces, along with a graph. Set up the triple integrals that give the volume of <m>D</m> in all 6 orders of integration, and find the volume of <m>D</m> by evaluating the indicated triple integral.</p>
    </introduction>
    <exercise xml:id="x13_06_ex_07">
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the coordinate planes and</p>

            <p><m>z=2-2x/3-2y</m>.</p>

            <p>Evaluate the triple integral with order <m>dz\ dy\ dx</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.0049995239824056625,
              3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333134651184,
              3Dcoo=-9.639361381530762 -8.587801933288574 36.453922271728516,
              3Droo=149.9999987284343,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_07_3D.asy -->
              <image xml:id="img_13_06_ex_07_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_07.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(4,4,2);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1,2,3};
                  real[] myychoice={1,2,3};
                  real[] myzchoice={1,2};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.5,3.5);
                  pair ybounds=(-0.5,3.5);
                  pair zbounds=(-0.5,3);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of tetrahedron
                  draw((0,0,0)--(3,0,0)--(0,1,0)--cycle,blue+linewidth(2));
                  draw((3,0,0)--(0,0,2),blue+linewidth(2));
                  draw((0,0,0)--(0,0,2),blue+linewidth(2));
                  draw((0,1,0)--(0,0,2),blue+linewidth(2));

                  //shade faces
                  import three;
                  path3 p=(0,0,0)--(3,0,0)--(0,1,0);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(0,0,0)--(3,0,0)--(0,0,2);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(0,0,0)--(0,1,0)--(0,0,2);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(0,0,0)--(3,0,0)--(0,0,2);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));



                  //labels and arrow
                  label("$z=2-\frac{2}{3}x-2y$",(3,3,0));
                  draw((2.5,2.5,.25)--(1.5,0.5,0.7),Arrow3(size=2mm));



                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_07_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_0^3\int_0^{1-x/3}\int_0^{2-2x/3-2y}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_0^1\int_0^{3-3y}\int_0^{2-2x/3-2y}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_0^3\int_0^{2-2x/3}\int_0^{1-x/3-z/2}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^2\int_0^{3-3z/2}\int_0^{1-x/3-z/2}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_0^1\int_0^{2-2y}\int_0^{3-3y-3z/2}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^2\int_0^{1-z/2}\int_0^{3-3y-3z/2}\ dx\ dy\ dz</m></p>

            <p><m>\ds V = \int_0^3\int_0^{1-x/3}\int_0^{2-2x/3-2y}\ dz\ dy\ dx =1</m>.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise xml:id="x13_06_ex_08">
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>y=0</m>, <m>y=2</m>, <m>x=1</m>, <m>z=0</m> and</p>

            <p><m>z=(3-x)/2</m>.</p>

            <p>Evaluate the triple integral with order <m>dx\ dy\ dz</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.0049995239824056625,
              3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333134651184,
              3Dcoo=-9.639361381530762 -8.587801933288574 36.453922271728516,
              3Droo=149.9999987284343,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_08_3D.asy -->
              <image xml:id="img_13_06_ex_08_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_083D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(8.8,7.8,3);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1,2,3};
                  real[] myychoice={1,2,3};
                  real[] myzchoice={1};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.5,3.5);
                  pair ybounds=(-0.5,3.5);
                  pair zbounds=(-0.5,1.75);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of object
                  draw((1,0,0)--(1,2,0)--(3,2,0)--(3,0,0)--cycle,blue+linewidth(2));
                  draw((3,0,0)--(1,0,1)--(1,2,1)--(3,2,0),blue+linewidth(2));
                  draw((3,0,0)--(1,0,1),blue+linewidth(2));
                  draw((1,0,0)--(1,0,1),blue+linewidth(2));
                  draw((1,2,0)--(1,2,1),blue+linewidth(2));

                  //shade faces
                  import three;
                  path3 p=(1,0,0)--(1,2,0)--(3,2,0)--(3,0,0);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(1,0,1)--(1,2,1)--(3,2,0)--(3,0,0);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(1,0,0)--(1,2,0)--(1,2,1)--(1,0,1);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(1,0,0)--(3,0,0)--(1,0,1);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(1,2,0)--(3,2,0)--(1,2,1);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));



                  //labels and arrow
                  label("$z=\frac{1}{2}(3-x)$",(3,0,1.1));
                  draw((3,0.25,1)--(2,1,0.45),Arrow3(size=2mm));



                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_08_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_1^3\int_0^{2}\int_0^{(3-x)/2}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_0^2\int_1^{3}\int_0^{(3-x)/2}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_1^3\int_0^{(3-x)/2}\int_0^{2}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^1\int_1^{3-2z}\int_0^{2}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_0^2\int_0^{1}\int_1^{3-2z}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^1\int_0^{2}\int_1^{3-2z}\ dx\ dy\ dz</m></p>

            <p><m>\ds V = \int_0^1\int_0^{2}\int_1^{3-2z}\ dx\ dy\ dz =2</m>.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>x=0</m>, <m>x=2</m>, <m>z=-y</m> and by</p>

            <p><m>z=y^2/2</m>.</p>

            <p>Evaluate the triple integral with the order <m>dy\ dz\ dx</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.004999519791454077,
              3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333134651184,
              3Dcoo=42.38267135620117 -68.19635772705078 51.62697982788086,
              3Droo=149.9999987284343,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_09_3D.asy -->
              <image xml:id="img_13_06_ex_09_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_093D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(4,4,2);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1,2};
                  real[] myychoice={};
                  real[] myzchoice={1,2};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.5,2.5);
                  pair ybounds=(-2.5,0.5);
                  pair zbounds=(-0.5,2.5);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of plane
                  draw((0,0,0)--(2,0,0)--(2,-2,2)--(0,-2,2)--cycle,blue+linewidth(2));

                  //shade plane
                  import three;
                  path3 p=(0,0,0)--(2,0,0)--(2,-2,2)--(0,-2,2);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));

                  //edges of parabolic cylinder
                  triple g(real t) {return (2,t,0.5*t^2);}
                  path3 mypath=graph(g,-2,0,operator ..);
                  draw(mypath,red+linewidth(2));
                  triple g(real t) {return (0,t,0.5*t^2);}
                  path3 mypath=graph(g,-2,0,operator ..);
                  draw(mypath,red+linewidth(2));

                  //Shade the cylinder
                  int k=10;
                  for (int i=0; i<2*k; ++i)
                  {
                  path3 p=(2,-i/k,0.5*(i/k)^2)--(2,-(i+1)/k,0.5*((i+1)/k)^2)--(0,-(i+1)/k,0.5*((i+1)/k)^2)--(0,-i/k,0.5*(i/k)^2);
                  draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(0.7)));
                  }


                  //labels and arrow
                  label("$z=-y$",(.5,0.5,2),E);draw((.5,.75,1.8)--(.75,-1,1),Arrow3(size=2mm));
                  label("$z=\frac{1}{2}y^2$",(2.25,-1.5,.75),W);
                  draw((2.25,-1.5,.7)--(2,-0.85,.32),Arrow3(size=2mm));


                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_09_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_0^2\int_{-2}^{0}\int_{y^2/2}^{-y}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{-2}^0\int_0^{2}\int_{y^2/2}^{-y}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_0^2\int_0^{2}\int_{-\sqrt{2z}}^{-z}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^2\int_0^{2}\int_{-\sqrt{2z}}^{-z}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{-2}^0\int_{y^2/2}^{-y}\int_0^{2}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^2\int_{-\sqrt{2z}}^{-z}\int_0^{2}\ dx\ dy\ dz</m> <m>\ds V = \int_0^2\int_0^{2}\int_{-\sqrt{2z}}^{-z}\ dy\ dz\ dx =4/3</m>.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>z=0</m>, <m>y=9</m>, <m>x=0</m> and by</p>

            <p><m>z=\sqrt{y^2-9x^2}</m>.</p>

            <p>Do not evaluate any triple integral.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.004025847185403109,
              3Dc2c=0.8124339580535889 0.30516722798347473 0.4968138635158539,
              3Dcoo=-14.771090507507324 42.51134490966797 24.72347640991211,
              3Droo=150.00000218030218,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_10_3D.asy -->
              <image xml:id="img_13_06_ex_10_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_103D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(14,10,21);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={3};
                  real[] myychoice={3,6,9};
                  real[] myzchoice={3,6,9};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.25,5);
                  pair ybounds=(-0.25,10);
                  pair zbounds=(-0.25,10);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of object
                  draw((0,0,0)--(0,9,0)--(3,9,0)--cycle,blue+linewidth(2));
                  draw((0,9,0)--(0,9,9)--(0,0,0)--cycle,blue+linewidth(2));
                  triple g(real t) {return (t,9,sqrt(81-9*t^2));}
                  path3 mypath=graph(g,0,3,operator ..);draw(mypath,blue+linewidth(2));

                  triple f(pair t) {
                    return (t.x/3*t.y,t.x,sqrt(t.x^2-9(t.x/3*t.y)^2));
                  }
                  surface s=surface(f,(0,0),(9,1),8,12,Spline);
                  pen p=rgb(0,0,.7)+.1mm;
                  draw(s,emissive(rgb(.6,.6,1)+opacity(.7)),meshpen=p);



                  //label and arrow
                  label("$z=\sqrt{y^2-9x^2}$",(4,4.5,0));
                  draw((3.3,4,.2)--(1.25,4,1.4),Arrow3(size=2mm));


                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_10_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_0^3\int_{3x}^{9}\int_{0}^{\sqrt{y^2-9x^2}}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{0}^9\int_0^{y/3}\int_{0}^{\sqrt{y^2-9x^2}}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_0^3\int_0^{\sqrt{81-9x^2}}\int_{\sqrt{z^2+9x^2}}^{9}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^9\int_0^{\sqrt{9-z^2/9}}\int_{\sqrt{z^2+9x^2}}^{9}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{0}^9\int_{0}^{y}\int_0^{\frac13\sqrt{y^2-z^2}}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^9\int_{z}^{9}\int_0^{\frac13\sqrt{y^2-z^2}}\ dx\ dy\ dz</m></p>
          </solution>
        </webwork>
      </exercise>
      <exercise xml:id="x13_06_ex_11">
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>x=2</m>, <m>y=1</m>, <m>z=0</m> and</p>

            <p><m>z=2x+4y-4</m>.</p>

            <p>Evaluate the triple integral with the order <m>dx\ dy\ dz</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.004999519791454077,
              3Dc2c=0.7375360131263733 -0.6143473982810974 0.2803889811038971,
              3Dcoo=32.48771286010742 72.419189453125 49.87675094604492,
              3Droo=200.00000360071368,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_11_3D.asy -->
              <image xml:id="img_13_06_ex_11_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_113D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(7.2,-5.1,8);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1,2};
                  real[] myychoice={1,2};
                  real[] myzchoice={2,4};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.25,2.5);
                  pair ybounds=(-0.25,2.5);
                  pair zbounds=(-0.25,5);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of object
                  draw((0,1,0)--(2,1,0)--(2,0,0)--cycle,blue+linewidth(2));
                  draw((0,1,0)--(2,1,4)--(2,1,0)--cycle,blue+linewidth(2));
                  draw((0,1,0)--(2,1,4)--(2,0,0)--cycle,blue+linewidth(2));


                  //shade plane
                  import three;
                  path3 p=(0,1,0)--(2,1,4)--(2,0,0);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));

                  //label and arrow
                  label("$z=2x+4y-4$",(1,0.5,4));
                  draw((1,0.5,3.6)--(1.2,.65,1.6),Arrow3(size=2mm));


                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_11_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_0^2\int_{1-x/2}^{1}\int_{0}^{2x+4y-4}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{0}^1\int_{2-2y}^{2}\int_{0}^{2x+4y-4}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_0^2\int_0^{2x}\int_{z/4-x/2+1}^{1}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^4\int_{z/2}^{2}\int_{z/4-x/2+1}^{1}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{0}^1\int_{0}^{4y}\int_{z/2-2y+2}^2\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^4\int_{z/4}^{1}\int_{z/2-2y+2}^2\ dx\ dy\ dz</m>
	
	<m>\ds V = \int_0^4\int_{z/4}^{1}\int_{2y-z/2-2}^2\ dx\ dy\ dz = 4/3</m>.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise xml:id="x13_06_ex_12">
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the plane <m>z=2y</m> and by <m>y=4-x^2</m>.</p>

            <p>Evaluate the triple integral with the order <m>dz\ dy\ dx</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.004999519791454077,
              3Dc2c=0.8651782274246216 -0.4135543704032898 0.28361836075782776,
              3Dcoo=1.8630493879318237 57.10300827026367 66.36750793457031,
              3Droo=149.99999560908606,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_12_3D.asy -->
              <image xml:id="img_13_06_ex_12_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_123D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(12.1,-7.1,16);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={-2,-1,1,2};
                  real[] myychoice={1,2,3,4};
                  real[] myzchoice={2,4,6,8};
                  defaultpen(0.5mm);

                  pair xbounds=(-2.5,2.5);
                  pair ybounds=(-0.25,5);
                  pair zbounds=(-0.25,10);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //parabola in plane
                  triple g(real t) {return (t,4-t^2,0);}
                  path3 mypath=graph(g,-2,2,operator ..);draw(mypath,red+linewidth(2));
                  triple g(real t) {return (t,4-t^2,2*(4-t^2));}
                  path3 mypath=graph(g,-2,2,operator ..);draw(mypath,blue+linewidth(2));

                  //shade object
                  import three;
                  int k=12;
                  for (int i=-2*k; i<2*k; ++i)
                  {
                  path3 p=(i/k,4-(i/k)^2,0)--((i+1)/k,4-((i+1)/k)^2,0)--((i+1)/k,4-((i+1)/k)^2,2*(4-((i+1)/k)^2))--((i)/k,4-((i)/k)^2,2*(4-((i)/k)^2));
                  draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(0.7)));
                  path3 p=(i/k,0,0)--(i/k,4-(i/k)^2,2*(4-(i/k)^2))--((i+1)/k,4-((i+1)/k)^2,2*(4-((i+1)/k)^2))--((i+1)/k,0,0);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  }


                  //label and arrow
                  label("$z=2y$",(-2,2,7));
                  draw((-1.8,2,6.8)--(-1,2,4.1),Arrow3(size=2mm));
                  label("$y=4-x^2$",(2.5,2,0));
                  draw((2.3,2.5,0.2)--(1.55,2.25,2.5),Arrow3(size=2mm));

                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_12_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_{-2}^2\int_{0}^{4-x^2}\int_{0}^{2y}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{0}^4\int_{-\sqrt{4-y}}^{\sqrt{4-y}}\int_{0}^{2x+4y-4}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_{-2}^2\int_0^{8-2x^2}\int_{z/2}^{4-x^2}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^8\int_{-\sqrt{4-z/2}}^{\sqrt{4-z/2}}\int_{z/2}^{4-x^2}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{0}^4\int_{0}^{2y}\int_{-\sqrt{4-y}}^{\sqrt{4-y}}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^8\int_{z/2}^{4}\int_{-\sqrt{4-y}}^{\sqrt{4-y}}\ dx\ dy\ dz</m>
	
	<m>\ds V = \int_{-2}^2\int_{0}^{4-x^2}\int_{0}^{2y}\ dz\ dy\ dx = 512/15</m>.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the coordinate planes and by</p>

            <p><m>y=1-x^2</m> and <m>y=1-z^2</m>.</p>

            <p>Do not evaluate any triple integral. Which order is easier to evaluate: <m>dz\ dy\ dx</m> or <m>dy\ dz\ dx</m>? Explain why.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.004999519791454077,
              3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333134651184,
              3Dcoo=-11.596293449401855 -12.679614067077637 48.551517486572266,
              3Droo=149.9999987284343,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_13_3D.asy -->
              <image xml:id="img_13_06_ex_13_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_133D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(4,4,2);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1};
                  real[] myychoice={1};
                  real[] myzchoice={1};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.25,1.5);
                  pair ybounds=(-0.25,1.5);
                  pair zbounds=(-0.25,1.5);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //parabola in plane
                  triple g(real t) {return (t,1-t^2,0);}
                  path3 mypath=graph(g,0,1,operator ..);draw(mypath,blue+linewidth(2));
                  triple g(real t) {return (0,1-t^2,t);}
                  path3 mypath=graph(g,0,1,operator ..);draw(mypath,blue+linewidth(2));
                  triple g(real t) {return (t,1-t^2,t);}
                  path3 mypath=graph(g,0,1,operator ..);draw(mypath,blue+linewidth(2));

                  //draw square and sideline
                  draw((0,0,0)--(1,0,0)--(1,0,1)--(0,0,1)--(0,0,0),blue+linewidth(2));
                  draw((0,0,0)--(0,1,0),blue+linewidth(2));

                  //shade object
                  import three;
                  int k=12;
                  for (int i=0; i<k; ++i)
                  {
                  path3 p=(0,1-(i/k)^2,i/k)--(0,1-((i+1)/k)^2,(i+1)/k)--((i+1)/k,1-((i+1)/k)^2,(i+1)/k)--((i)/k,1-((i)/k)^2,(i)/k);
                  draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(0.7)));//pink

                  path3 p=(i/k,1-(i/k)^2,0)--((i+1)/k,1-((i+1)/k)^2,0)--((i+1)/k,1-((i+1)/k)^2,(i+1)/k)--((i)/k,1-((i)/k)^2,(i)/k);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));//blue
                  }

                  //label and arrow
                  label("$y=1-x^2$",(1,1,0));
                  draw((0.9,0.9,.1)--(.65,.6,.4),Arrow3(size=2mm));
                  label("$y=1-z^2$",(0,1,.85));
                  draw((.1,.9,.75)--(.3,.8,.45),Arrow3(size=2mm));

                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_13_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_{0}^1\int_{0}^{1-x^2}\int_{0}^{\sqrt{1-y}}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{0}^1\int_{0}^{\sqrt{1-y}}\int_{0}^{\sqrt{1-y}}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_{0}^1\int_0^{x}\int_{0}^{1-x^2}\ dy\ dz\ dx + \int_{0}^1\int_x^{1}\int_{0}^{1-z^2}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^1\int_{0}^{z}\int_{0}^{1-z^2}\ dy\ dx\ dz+\int_0^1\int_{z}^{1}\int_{0}^{1-x^2}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{0}^1\int_{0}^{\sqrt{1-y}}\int_{0}^{\sqrt{1-y}}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^1\int_{0}^{1-z^2}\int_{0}^{\sqrt{1-y}}\ dx\ dy\ dz</m>
	
	Answers will vary. Neither order is particularly <q>hard.</q> The order <m>dz\ dy\ dx</m> requires integrating a square root, so powers can be messy; the order <m>dy\ dz\ dx</m> requires two triple integrals, but each uses only polynomials.</p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the coordinate planes and by</p>

            <p><m>z=1-y/3</m> and <m>z=1-x</m>.</p>

            <p>Evaluate the triple integral with order <m>dx\ dy\ dz</m>.</p>

            <p><!--
               \includemedia[width=150pt,3Dmenu,activate=onclick,deactivate=onclick,
              3Droll=0,
              3Dortho=0.0049995239824056625,
              3Dc2c=0.6666666865348816 0.6666666865348816 0.3333333134651184,
              3Dcoo=-9.639361381530762 -8.587801933288574 36.453922271728516,
              3Droo=149.9999987284343,
              3Dlights=Headlamp,add3Djscript=asylabels.js]
               -->


              <!-- START figures/fig13_06_ex_14_3D.asy -->
              <image xml:id="img_13_06_ex_14_3D" >
                <asymptote>
                  <![CDATA[
                  import graph3;

                  //ASY file for fig13_06_ex_143D.asy in Chapter 13


                  size(200,200,IgnoreAspect);
                  //currentprojection=perspective(7,2,1);
                  currentprojection=orthographic(4,4,2);
                  defaultrender.merge=true;

                  usepackage("mathspec");
                  texpreamble("\setallmainfonts[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmainfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setsansfont[Mapping=tex-text]{Calibri}");
                  texpreamble("\setmathsfont(Greek){[cmmi10]}");

                  // setup and draw the axes
                  real[] myxchoice={1,2};
                  real[] myychoice={1,2,3};
                  real[] myzchoice={1};
                  defaultpen(0.5mm);

                  pair xbounds=(-0.25,2.5);
                  pair ybounds=(-0.25,3.5);
                  pair zbounds=(-0.25,1.5);

                  xaxis3("",xbounds.x,xbounds.y,black,OutTicks(myxchoice),Arrow3(size=3mm));
                  yaxis3("",ybounds.x,ybounds.y,black,OutTicks(myychoice),Arrow3(size=3mm));
                  zaxis3("",zbounds.x,zbounds.y,black,OutTicks(myzchoice),Arrow3(size=3mm));

                  label("$x$",(xbounds.y+0.05*(xbounds.y-xbounds.x),0,0));
                  label("$y$",(0,ybounds.y+0.05*(ybounds.y-ybounds.x),0));
                  label("$z$",(0,0,zbounds.y+0.05*(zbounds.y-zbounds.x)));


                  //edges of object
                  draw((0,0,0)--(1,0,0)--(1,3,0)--(0,3,0)--cycle,blue+linewidth(2));
                  draw((1,0,0)--(0,0,1),blue+linewidth(2));
                  draw((0,3,0)--(0,0,1),blue+linewidth(2));
                  draw((0,0,0)--(0,0,1),blue+linewidth(2));
                  draw((1,3,0)--(0,0,1),blue+linewidth(2));

                  //shade object
                  import three;
                  path3 p=(1,0,0)--(1,3,0)--(0,0,1);
                  draw(surface(p -- cycle), emissive(rgb(.6,.6,1)+opacity(0.7)));
                  path3 p=(1,3,0)--(0,3,0)--(0,0,1);
                  draw(surface(p -- cycle), emissive(rgb(1,.6,.6)+opacity(0.7)));


                  //label and arrow
                  label("$z=1-x$",(2,1.5,0));
                  draw((1.75,1.5,0.1)--(0.75,1,.35),Arrow3(size=2mm));
                  label("$z=1-y/3$",(0,2.5,1));
                  draw((0.15,2.5,0.85)--(0.35,2.25,.35),Arrow3(size=2mm));

                  // ////////////////////////////////////
                  //    SAMPLE CODE

                  // defaultpen(fontsize(10pt));

                  //real f(pair z) {return -z.x^4+2*z.x^2-z.y^4+2*z.y^2;}
                  //surface s=surface(f,(-1.5,-1.5),(1.5,1.5),Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //triple f(pair t) {
                  //  return (cos(t.x)*1.5*cos(t.y),sin(t.x)*cos(t.y),sin(t.y));
                  //}
                  //surface s=surface(f,(0,0),(pi,2*pi),8,8,Spline);
                  //pen p=rgb(0,0,.7);
                  //draw(s,rgb(.6,.6,1)+opacity(.7),meshpen=p);

                  //draw(s,paleblue);
                  //draw(s,lightblue,meshpen=black+thick(),nolight,render(merge=true));
                  //draw(mypath,2bp+blue);

                  //triple g(real t) {return (t,t,-2*t^4+4*t^2);}
                  //path3 mypath=graph(g,-1,1,operator ..);
                  //draw(mypath,blue+dashed+linewidth(2));

                  //pen p=rgb(0,0,1);
                  //draw(s,paleblue+opacity(.5),meshpen=p,render(merge=true));
                  ]]>
                </asymptote>
              </image>
              <!-- figures/fig13_06_ex_14_3D.asy END --></p>
          </statement>
          <solution>
            <p><m>dz\ dy\ dx</m>: <m>\ds\int_{0}^1\int_{0}^{3x}\int_{0}^{1-x}\ dz\ dy\ dx+\int_{0}^1\int_{3x}^{3}\int_{0}^{1-y/3}\ dz\ dy\ dx</m></p>

            <p><m>dz\ dx\ dy</m>: <m>\ds\int_{0}^3\int_{0}^{y/3}\int_{0}^{1-y/3}\ dz\ dy\ dx+\int_{0}^3\int_{y/3}^{1}\int_{0}^{1-x}\ dz\ dx\ dy</m></p>

            <p><m>dy\ dz\ dx</m>: <m>\ds\int_{0}^1\int_0^{1-x}\int_{0}^{3-3z}\ dy\ dz\ dx</m></p>

            <p><m>dy\ dx\ dz</m>: <m>\ds\int_0^1\int_{0}^{1-z}\int_{0}^{3-3z}\ dy\ dx\ dz</m></p>

            <p><m>dx\ dz\ dy</m>: <m>\ds\int_{0}^3\int_{0}^{1-y/3}\int_{0}^{1-z}\ dx\ dz\ dy</m></p>

            <p><m>dx\ dy\ dz</m>: <m>\ds\int_0^1\int_{0}^{3-3z}\int_{0}^{1-z}\ dx\ dy\ dz</m>
	
	<m>\ds V = \int_0^1\int_{0}^{3-3z}\int_{0}^{1-z}\ dx\ dy\ dz = 1</m>.</p>
          </solution>
        </webwork>
      </exercise>
  </exercisegroup>

    <exercisegroup>
        <introduction>
            <p>In the following exercises, evaluate the triple integral.</p>
        </introduction>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>\ds \int_{-\pi/2}^{\pi/2}\int_0^\pi\int_0^\pi\big(\cos(x) \sin(y) \sin(z) \big)\ dz\ dy\ dx</m></p>
          </statement>
          <solution>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="$int">
              <static>\frac{7}{8}</static>
            </var>
            <pg-code>
                $int=Compute("7/8");
            </pg-code>
          </setup>
          <statement>
            <p>Evaluate <m>\ds \int_{0}^{1}\int_0^x\int_0^{x+y}(x+y+z)\,dz\,dy\,dx</m>.</p>
            <p><var name="$int" width="15" /></p>
          </statement>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>\ds \int_{0}^{\pi}\int_{0}^{1}\int_{0}^{z}\big(\sin(yz)\big)\ dx\ dy\ dz</m></p>
          </statement>
          <solution>
            <p><m>\pi</m></p>
          </solution>
        </webwork>
      </exercise>

      <exercise>
        <webwork seed="1">
          <setup>
            <var name="$int">
              <static>0</static>
            </var>
            <pg-code>
                $int=Compute("0");
            </pg-code>
          </setup>
          <statement>
            <p>Evaluate <m>\ds \int_{\pi}^{\pi^2}\int_{x}^{x^3}\int_{-y^2}^{y^2}\left(z\frac{x^2y+y^2x}{e^{x^2+y^2}}\right)\,dz\,dy\,dx</m>.</p>
            <p><var name="$int" width="15" /></p>
          </statement>
        </webwork>
      </exercise>
  </exercisegroup>

  <exercisegroup>
    <introduction>
        <p>In the following exercises, find the center of mass of the solid represented by the indicated space region <m>D</m> with density function <m>\delta(x,y,z)</m>.</p>
    </introduction>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the coordinate planes and</p>

            <p><m>z=2-2x/3-2y</m>; <m>\delta(x,y,z) = 10</m>gm/cm<m>^3</m>.</p>

            <p>(Note: this is the same region as used in <xref ref="x13_06_ex_07">Exercise</xref>.)</p>
          </statement>
          <solution>
            <p><m>M = 10</m>, <m>M_{yz} = 15/2</m>, <m>M_{xz}=5/2</m>, <m>M_{xy}=5</m>;</p>

            <p><m>(\overline{x},\overline{y},\overline{z}) = (3/4, 1/4, 1/2)</m></p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>y=0</m>, <m>y=2</m>, <m>x=1</m>, <m>z=0</m> and</p>

            <p><m>z=(3-x)/2</m>; <m>\delta(x,y,z) = 2</m>gm/cm<m>^3</m>.</p>

            <p>(Note: this is the same region as used in <xref ref="x13_06_ex_08">Exercise</xref>.)</p>
          </statement>
          <solution>
            <p><m>M = 4</m>, <m>M_{yz} = 20/3</m>, <m>M_{xz}=4</m>, <m>M_{xy}=4/3</m>;</p>

            <p><m>(\overline{x},\overline{y},\overline{z}) = (5/3, 1, 1/3)</m></p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the planes <m>x=2</m>, <m>y=1</m>, <m>z=0</m> and</p>

            <p><m>z=2x+4y-4</m>;<m>\delta(x,y,z) = x^2</m>lb/in<m>^3</m>.</p>

            <p>(Note: this is the same region as used in <xref ref="x13_06_ex_11">Exercise</xref>.)</p>
          </statement>
          <solution>
            <p><m>M = 16/5</m>, <m>M_{yz} = 16/3</m>, <m>M_{xz}=104/45</m>, <m>M_{xy}=32/9</m>;</p>

            <p><m>(\overline{x},\overline{y},\overline{z}) = (5/3,13/18,10/9) \approx (1.67,0.72,1.11)</m></p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork seed="1">
          <setup>
            <var name="">
              <static></static>
            </var>
            <pg-code>
            </pg-code>
          </setup>
          <statement>
            <p><m>D</m> is bounded by the plane <m>z=2y</m> and by <m>y=4-x^2</m>.</p>

            <p><m>\delta(x,y,z) = y^2</m>lb/in<m>^3</m>.</p>

            <p>(Note: this is the same region as used in <xref ref="x13_06_ex_12">Exercise</xref>.)</p>
          </statement>
          <solution>
            <p><m>M = \frac{65,536}{15}\approx 208.05</m>, <m>M_{yz} = 0</m>, <m>M_{xz}=\frac{2,097,152}{3465}\approx 605.24</m>, <m>M_{xy}=\frac{2,097,152}{3465}\approx 605.24</m>;</p>

            <p><m>(\overline{x},\overline{y},\overline{z}) = (0,32/11,32/11) \approx (0,2.91,2.91)</m></p>
          </solution>
        </webwork>
      </exercise>
    </exercisegroup>
  </exercises>
</section>
